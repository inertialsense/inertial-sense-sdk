<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDK: src/InertialSense.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="IS_LOGO_BLACK_F03_email_signature.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK
   &#160;<span id="projectnumber">Release 1.8.6</span>
   </div>
   <div id="projectbrief">Communications, logger, and bootloader libraries.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">InertialSense.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_inertial_sense_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">MIT LICENSE</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">Copyright (c) 2014-2022 Inertial Sense, Inc. - http://inertialsense.com</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files(the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions :</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="protocol__nmea_8h.html">protocol_nmea.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_inertial_sense_8h.html">InertialSense.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using namespace </span>std;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="structbootload__state__t.html">   18</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;{</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="structbootload__state__t.html#a5e52e343357b7b04ad3d82b0db74fb69">   20</a></span>&#160;    <a class="code" href="structbootload__params__t.html">bootload_params_t</a> <a class="code" href="structbootload__state__t.html#a5e52e343357b7b04ad3d82b0db74fb69">param</a>;</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="structbootload__state__t.html#a15cdcb5306b9c1662377aedbba143311">   21</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structbootload__state__t.html#a15cdcb5306b9c1662377aedbba143311">success</a>;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="structbootload__state__t.html#a727acb2935abfeed2c227314189df4b2">   22</a></span>&#160;    <a class="code" href="structserial__port__t.html">serial_port_t</a> <a class="code" href="structbootload__state__t.html#a727acb2935abfeed2c227314189df4b2">serial</a>;</div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="structbootload__state__t.html#a951b3311967061368815ffe6dd1d81d5">   23</a></span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="structbootload__state__t.html#a951b3311967061368815ffe6dd1d81d5">thread</a>;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;} <a class="code" href="structbootload__state__t.html">bootload_state_t</a>;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> bootloaderUpdateBootloaderThread(<span class="keywordtype">void</span>* state)</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="structbootload__state__t.html">bootload_state_t</a>* s = (<a class="code" href="structbootload__state__t.html">bootload_state_t</a>*)state;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    s-&gt;<a class="code" href="structbootload__state__t.html#a15cdcb5306b9c1662377aedbba143311">success</a> = (<a class="code" href="inertial_sense_boot_loader_8c.html#a0fb19b81296391f0e36ba02b0a85d485">bootloadFileEx</a>(&amp;s-&gt;<a class="code" href="structbootload__state__t.html#a5e52e343357b7b04ad3d82b0db74fb69">param</a>) == 0);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="serial_port_8c.html#a25ebaeafcc060a447ec1a38a8085943d">serialPortClose</a>(&amp;s-&gt;<a class="code" href="structbootload__state__t.html#a727acb2935abfeed2c227314189df4b2">serial</a>);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> staticSendPacket(<a class="code" href="com__manager_8h.html#aa4c7b70d216e3ec5adc54f13afc5ffde">CMHANDLE</a> cmHandle, <span class="keywordtype">int</span> pHandle, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len)</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">// Suppress compiler warnings</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    (void)pHandle;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    (void)cmHandle;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html">InertialSense::com_manager_cpp_state_t</a>* s = (<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html">InertialSense::com_manager_cpp_state_t</a>*)<a class="code" href="com__manager_8c.html#ae2cd08328452b51eb95fdfdaaac1f869">comManagerGetUserPointer</a>(cmHandle);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)pHandle &gt;= s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size())</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    }</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="serial_port_8c.html#ad2240e52502e49f931504565cc1d39d0">serialPortWrite</a>(&amp;s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].serialPort, buf, len);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> staticReadPacket(<a class="code" href="com__manager_8h.html#aa4c7b70d216e3ec5adc54f13afc5ffde">CMHANDLE</a> cmHandle, <span class="keywordtype">int</span> pHandle, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">// Suppress compiler warnings</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    (void)pHandle;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    (void)cmHandle;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html">InertialSense::com_manager_cpp_state_t</a>* s = (<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html">InertialSense::com_manager_cpp_state_t</a>*)<a class="code" href="com__manager_8c.html#ae2cd08328452b51eb95fdfdaaac1f869">comManagerGetUserPointer</a>(cmHandle);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)pHandle &gt;= s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size())</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="serial_port_8c.html#a7426c48831273ec45889f652623d00df">serialPortReadTimeout</a>(&amp;s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].serialPort, buf, len, 1);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> staticProcessRxData(<a class="code" href="com__manager_8h.html#aa4c7b70d216e3ec5adc54f13afc5ffde">CMHANDLE</a> cmHandle, <span class="keywordtype">int</span> pHandle, <a class="code" href="structp__data__t.html">p_data_t</a>* data)</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    (void)cmHandle;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html">InertialSense::com_manager_cpp_state_t</a>* s = (<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html">InertialSense::com_manager_cpp_state_t</a>*)<a class="code" href="com__manager_8c.html#ae2cd08328452b51eb95fdfdaaac1f869">comManagerGetUserPointer</a>(cmHandle);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">if</span> (data-&gt;<a class="code" href="structp__data__t.html#ad581435f6761781c248158d69ca502f9">hdr</a>.<a class="code" href="structp__data__hdr__t.html#a0a70811dba0872fe68a2d58c24cb7894">id</a> &gt;= (<span class="keyword">sizeof</span>(s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a84d9ae16a0c182d96c5c67b1e51d8cce">binaryCallback</a>)/<span class="keyword">sizeof</span>(<a class="code" href="_inertial_sense_8h.html#a728862e429ee3497de0252d42807dd31">pfnHandleBinaryData</a>)))</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="_inertial_sense_8h.html#a728862e429ee3497de0252d42807dd31">pfnHandleBinaryData</a> handler = s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a84d9ae16a0c182d96c5c67b1e51d8cce">binaryCallback</a>[data-&gt;<a class="code" href="structp__data__t.html#ad581435f6761781c248158d69ca502f9">hdr</a>.<a class="code" href="structp__data__hdr__t.html#a0a70811dba0872fe68a2d58c24cb7894">id</a>];</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a9e8a137f5ff3a70bf747ecf0655bcd65">stepLogFunction</a>(s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#af002ad4e41266ef3f5316acb7482d152">inertialSenseInterface</a>, data, pHandle);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)pHandle &gt; s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size())</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">if</span> (handler != <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>)</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        handler(s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#af002ad4e41266ef3f5316acb7482d152">inertialSenseInterface</a>, data, pHandle);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="_inertial_sense_8h.html#a728862e429ee3497de0252d42807dd31">pfnHandleBinaryData</a> handlerGlobal = s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#af8bd2d3e0d91808c92a4a36f98f944c3">binaryCallbackGlobal</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (handlerGlobal != <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>)</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="comment">// Called for all DID&#39;s</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        handlerGlobal(s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#af002ad4e41266ef3f5316acb7482d152">inertialSenseInterface</a>, data, pHandle);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">switch</span> (data-&gt;<a class="code" href="structp__data__t.html#ad581435f6761781c248158d69ca502f9">hdr</a>.<a class="code" href="structp__data__hdr__t.html#a0a70811dba0872fe68a2d58c24cb7894">id</a>)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="data__sets_8h.html#a5ad06fc2f66d620d031065c8dc711904">DID_DEV_INFO</a>:          s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].devInfo = *(<a class="code" href="struct_p_a_c_k_e_d.html">dev_info_t</a>*)data-&gt;<a class="code" href="structp__data__t.html#a006c80696cc8ad6e3699d853da9c9c07">buf</a>;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="data__sets_8h.html#a34433a6f8530254b5e16a4401e48ad75">DID_SYS_CMD</a>:           s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].sysCmd = *(<a class="code" href="struct_p_a_c_k_e_d.html">system_command_t</a>*)data-&gt;<a class="code" href="structp__data__t.html#a006c80696cc8ad6e3699d853da9c9c07">buf</a>;     <span class="keywordflow">break</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="data__sets_8h.html#a8fef46b9aa13b2342a66e71e72443713">DID_FLASH_CONFIG</a>:      s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].flashCfg = *(<a class="code" href="struct_p_a_c_k_e_d.html">nvm_flash_cfg_t</a>*)data-&gt;<a class="code" href="structp__data__t.html#a006c80696cc8ad6e3699d853da9c9c07">buf</a>;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="data__sets_8h.html#a7c9fb16bbb2b3eac21c6c10aedcc4eba">DID_EVB_FLASH_CFG</a>:     s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].evbFlashCfg = *(<a class="code" href="structevb__flash__cfg__t.html">evb_flash_cfg_t</a>*)data-&gt;<a class="code" href="structp__data__t.html#a006c80696cc8ad6e3699d853da9c9c07">buf</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="data__sets_8h.html#a9a312779fc3753d715cd9c12e817b3fb">DID_GPS1_POS</a>:</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keyword">static</span> time_t lastTime;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        time_t currentTime = time(<a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span> (abs(currentTime - lastTime) &gt; 5)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        {   <span class="comment">// Update every 5 seconds</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            lastTime = currentTime;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <a class="code" href="struct_p_a_c_k_e_d.html">gps_pos_t</a> &amp;gps = *((<a class="code" href="struct_p_a_c_k_e_d.html">gps_pos_t</a>*)data-&gt;<a class="code" href="structp__data__t.html#a006c80696cc8ad6e3699d853da9c9c07">buf</a>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">if</span> ((gps.<a class="code" href="struct_p_a_c_k_e_d.html#ab41d8d9020ee7438142779e6ddb7147e">status</a>&amp;<a class="code" href="data__sets_8h.html#ae6d4500b717d1fde25cfaf3caf0c0108a2717bdaf2658e7cd21218a20e1640dd3">GPS_STATUS_FIX_MASK</a>) &gt;= <a class="code" href="data__sets_8h.html#ae6d4500b717d1fde25cfaf3caf0c0108a2245cf53633de291f659b1286959d96c">GPS_STATUS_FIX_3D</a>)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                *s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#aa85e37073723ccb11826aee743ce147f">clientBytesToSend</a> = <a class="code" href="protocol__nmea_8cpp.html#a74ca1b4fa09b89b0c7342d376991c163">gps_to_nmea_gga</a>(s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a803497b25cbb0de9ac434eb32e8be346">clientBuffer</a>, s-&gt;<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ab738445390c2608a517d0769bc31c86b">clientBufferSize</a>, gps);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#ab3c49f0986bdb06367a72d641dec0ecf">  113</a></span>&#160;<a class="code" href="class_inertial_sense.html#ab3c49f0986bdb06367a72d641dec0ecf">InertialSense::InertialSense</a>(<a class="code" href="_inertial_sense_8h.html#a728862e429ee3497de0252d42807dd31">pfnHandleBinaryData</a> callback) : m_tcpServer(this)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    m_logThread = <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    m_lastLogReInit = time(0);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    m_clientStream = <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    m_clientBufferBytesToSend = 0;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    m_clientServerByteCount = 0;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    m_disableBroadcastsOnClose = <span class="keyword">false</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    memset(m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a84d9ae16a0c182d96c5c67b1e51d8cce">binaryCallback</a>, 0, <span class="keyword">sizeof</span>(m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a84d9ae16a0c182d96c5c67b1e51d8cce">binaryCallback</a>));</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#af8bd2d3e0d91808c92a4a36f98f944c3">binaryCallbackGlobal</a> = callback;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a9e8a137f5ff3a70bf747ecf0655bcd65">stepLogFunction</a> = &amp;InertialSense::StepLogger;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#af002ad4e41266ef3f5316acb7482d152">inertialSenseInterface</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a803497b25cbb0de9ac434eb32e8be346">clientBuffer</a> = m_clientBuffer;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ab738445390c2608a517d0769bc31c86b">clientBufferSize</a> = <span class="keyword">sizeof</span>(m_clientBuffer);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#aa85e37073723ccb11826aee743ce147f">clientBytesToSend</a> = &amp;m_clientBufferBytesToSend;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="com__manager_8c.html#a5a99656c76c4e36420c61a9887081286">comManagerAssignUserPointer</a>(<a class="code" href="com__manager_8c.html#a4336f36a840ad97152a693893866ca2e">comManagerGetGlobal</a>(), &amp;m_comManagerState);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    memset(&amp;m_cmInit, 0, <span class="keyword">sizeof</span>(m_cmInit));</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    m_cmPorts = <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="_i_s_comm_8c.html#aff1457c84a0e7071f931930366ea0150">is_comm_init</a>(&amp;m_gpComm, m_gpCommBuffer, <span class="keyword">sizeof</span>(m_gpCommBuffer));</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a785cc4fccb160ead6fbc7cf39da924df">  134</a></span>&#160;<a class="code" href="class_inertial_sense.html#a785cc4fccb160ead6fbc7cf39da924df">InertialSense::~InertialSense</a>()</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="class_inertial_sense.html#a73a675fd832f7579cd790de41f40f5fe">CloseServerConnection</a>();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="class_inertial_sense.html#a08aa8dd64db81fe35415a08435349318">Close</a>();</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keywordtype">bool</span> InertialSense::EnableLogging(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; path, <a class="code" href="classc_i_s_logger.html#a1d8dabae55d4395940b6169ac6235fb8">cISLogger::eLogType</a> logType, <span class="keywordtype">float</span> maxDiskSpacePercent, uint32_t maxFileSize, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; subFolder)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    cMutexLocker logMutexLocker(&amp;m_logMutex);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (!m_logger.<a class="code" href="classc_i_s_logger.html#ae2cbba0b74baf66370613e72d99215b3">InitSaveTimestamp</a>(subFolder, path, <a class="code" href="classc_i_s_logger.html#a8a9af6e58d2c286d2a9f382c72e25a96">cISLogger::g_emptyString</a>, (<span class="keywordtype">int</span>)m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(), logType, maxDiskSpacePercent, maxFileSize, subFolder.length() != 0))</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    m_logger.<a class="code" href="classc_i_s_logger.html#ad4d651b3fbaf5ece85a0f762a0f7f215">EnableLogging</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        m_logger.<a class="code" href="classc_i_s_logger.html#a477e17db2c480bc21837f875db278093">SetDeviceInfo</a>(&amp;m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[i].devInfo);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span> (m_logThread == <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        m_logThread = <a class="code" href="_i_s_utilities_8cpp.html#af86294fec13e0223d1b36a2b4e57b61f">threadCreateAndStart</a>(&amp;InertialSense::LoggerThread, <span class="keyword">this</span>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keywordtype">void</span> InertialSense::DisableLogging()</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;{</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// just sets a bool no need to lock</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    m_logger.<a class="code" href="classc_i_s_logger.html#ad4d651b3fbaf5ece85a0f762a0f7f215">EnableLogging</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="_i_s_utilities_8cpp.html#accf248be103fbab76b6bbdfae67b6d52">threadJoinAndFree</a>(m_logThread);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    m_logThread = <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    m_logger.<a class="code" href="classc_i_s_logger.html#a910489e1f68a55e047c77373c8735a7a">CloseAllFiles</a>();</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keywordtype">bool</span> InertialSense::HasReceivedResponseFromDevice(<span class="keywordtype">size_t</span> index)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (index &gt;= m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size())</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span> (</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[index].flashCfg.size != 0 &amp;&amp;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[index].devInfo.serialNumber != 0 &amp;&amp;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[index].devInfo.manufacturer[0] != 0);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="keywordtype">bool</span> InertialSense::HasReceivedResponseFromAllDevices()</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size() == 0)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">if</span> (!HasReceivedResponseFromDevice(i))</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="keywordtype">void</span> InertialSense::RemoveDevice(<span class="keywordtype">size_t</span> index)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (index &gt;= m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size())</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="serial_port_8c.html#a25ebaeafcc060a447ec1a38a8085943d">serialPortClose</a>(&amp;m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[index].serialPort);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.erase(m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.begin() + index);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="keywordtype">void</span> InertialSense::LoggerThread(<span class="keywordtype">void</span>* info)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;{</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordtype">bool</span> running = <span class="keyword">true</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="class_inertial_sense.html">InertialSense</a>* inertialSense = (<a class="code" href="class_inertial_sense.html">InertialSense</a>*)info;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// gather up packets in memory</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    map&lt;int, vector&lt;p_data_t&gt;&gt; packets;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">while</span> (running)</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="_i_s_utilities_8h.html#a038783cd27cbb54e9c8d8708f147168e">SLEEP_MS</a>(20);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="comment">// lock so we can read and clear m_logPackets</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            cMutexLocker logMutexLocker(&amp;inertialSense-&gt;m_logMutex);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">for</span> (map&lt;<span class="keywordtype">int</span>, vector&lt;p_data_t&gt;&gt;::iterator i = inertialSense-&gt;m_logPackets.begin(); i != inertialSense-&gt;m_logPackets.end(); i++)</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                packets[i-&gt;first] = i-&gt;second;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="comment">// clear shared memory</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            inertialSense-&gt;m_logPackets.clear();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="comment">// update running state</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            running = inertialSense-&gt;m_logger.<a class="code" href="classc_i_s_logger.html#a593b23332a2fcd5b491456e15c0816f0">Enabled</a>();</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">if</span> (running)</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="comment">// log the packets</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="keywordflow">for</span> (map&lt;<span class="keywordtype">int</span>, vector&lt;p_data_t&gt;&gt;::iterator i = packets.begin(); i != packets.end(); i++)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; i-&gt;second.size(); j++)</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    <span class="keywordflow">if</span> (!inertialSense-&gt;m_logger.<a class="code" href="classc_i_s_logger.html#a5893f6add9cb8f827ba3877171dbc475">LogData</a>(i-&gt;first, &amp;i-&gt;second[j].hdr, i-&gt;second[j].buf))</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        <span class="comment">// Failed to write to log</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                        <a class="code" href="_i_s_utilities_8h.html#a038783cd27cbb54e9c8d8708f147168e">SLEEP_MS</a>(20);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="comment">// clear all log data for this pHandle</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                i-&gt;second.clear();</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        inertialSense-&gt;m_logger.<a class="code" href="classc_i_s_logger.html#aae12567eb73514a2e28fe3807956854c">Update</a>();</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    printf(<span class="stringliteral">&quot;\n...Logger thread terminated...\n&quot;</span>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="keywordtype">void</span> InertialSense::StepLogger(<a class="code" href="class_inertial_sense.html">InertialSense</a>* i, <span class="keyword">const</span> <a class="code" href="structp__data__t.html">p_data_t</a>* data, <span class="keywordtype">int</span> pHandle)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    cMutexLocker logMutexLocker(&amp;i-&gt;m_logMutex);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (i-&gt;m_logger.<a class="code" href="classc_i_s_logger.html#a593b23332a2fcd5b491456e15c0816f0">Enabled</a>())</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        vector&lt;p_data_t&gt;&amp; vec = i-&gt;m_logPackets[pHandle];</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        vec.push_back(*data);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a3b5a9e3f7cb22df9ff9cf59558c1a3c2">  270</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_inertial_sense.html#a3b5a9e3f7cb22df9ff9cf59558c1a3c2">InertialSense::Open</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* port, <span class="keywordtype">int</span> baudRate, <span class="keywordtype">bool</span> disableBroadcastsOnClose)</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">// null com port, just use other features of the interface like ntrip</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (port[0] == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; port[1] == <span class="charliteral">&#39;\0&#39;</span>)</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    m_disableBroadcastsOnClose = <span class="keyword">false</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (OpenSerialPorts(port, baudRate))</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        m_disableBroadcastsOnClose = disableBroadcastsOnClose;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#ae3e7952b33b002b869712303a6725e94">  287</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_inertial_sense.html#ae3e7952b33b002b869712303a6725e94">InertialSense::SetLoggerEnabled</a>(</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordtype">bool</span> enable, </div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; path, </div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="classc_i_s_logger.html#a1d8dabae55d4395940b6169ac6235fb8">cISLogger::eLogType</a> logType, </div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    uint64_t rmcPreset, </div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordtype">float</span> maxDiskSpacePercent, </div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    uint32_t maxFileSize, </div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; subFolder)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> (enable)</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">if</span> (m_logThread != <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>)</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="comment">// already logging</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">if</span>(rmcPreset)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        { </div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <a class="code" href="class_inertial_sense.html#a5ddce25f9f831619ad585c6ac7a2ba66">BroadcastBinaryDataRmcPreset</a>(rmcPreset);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">return</span> EnableLogging(path, logType, maxDiskSpacePercent, maxFileSize, subFolder);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// !enable, shutdown logger gracefully</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    DisableLogging();</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">// [type]:[protocol]:[ip/url]:[port]:[mountpoint]:[username]:[password]</span></div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#ac117c0a7e2053832a852086069d3783e">  317</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_inertial_sense.html#ac117c0a7e2053832a852086069d3783e">InertialSense::OpenConnectionToServer</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; connectionString)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="class_inertial_sense.html#a73a675fd832f7579cd790de41f40f5fe">CloseServerConnection</a>();</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// calls new cISTcpClient or new cISSerialPort</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    m_clientStream = <a class="code" href="classc_i_s_client.html#afe42618628bb5df3855bbe65d59d8a40">cISClient::OpenConnectionToServer</a>(connectionString, &amp;m_forwardGpgga);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">return</span> m_clientStream!=<a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a73a675fd832f7579cd790de41f40f5fe">  327</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#a73a675fd832f7579cd790de41f40f5fe">InertialSense::CloseServerConnection</a>()</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;{</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    m_tcpServer.<a class="code" href="classc_i_s_tcp_server.html#aedfc523b93548c96cb7655d603a60ed3">Close</a>();</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    m_serialServer.<a class="code" href="classc_i_s_serial_port.html#ac332a98cc9c6242b35aa56fa7c32e428">Close</a>();</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (m_clientStream != <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keyword">delete</span> m_clientStream;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        m_clientStream = <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">// [type]:[ip/url]:[port]</span></div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a8424b712a21c24279c1338adbb97fcdd">  340</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_inertial_sense.html#a8424b712a21c24279c1338adbb97fcdd">InertialSense::CreateHost</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; connectionString)</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;{</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">// if no serial connection, fail</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_inertial_sense.html#a8effe3d6e6b05ca285ef413a85223e09">IsOpen</a>())</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="class_inertial_sense.html#a73a675fd832f7579cd790de41f40f5fe">CloseServerConnection</a>();</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    vector&lt;string&gt; pieces;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="_i_s_utilities_8cpp.html#acc154ee31d8e7cb1bd9f21069160bd9d">splitString</a>(connectionString, <span class="charliteral">&#39;:&#39;</span>, pieces);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">if</span> (pieces.size() &lt; 3)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordtype">string</span> type     = pieces[0];    <span class="comment">// TCP, SERIAL</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordtype">string</span> host     = pieces[1];    <span class="comment">// IP / URL</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordtype">string</span> port     = pieces[2];</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span> (type != <span class="stringliteral">&quot;TCP&quot;</span>)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="class_inertial_sense.html#ac5a61c3455a9847b7ba811ed9c1f7451">StopBroadcasts</a>();</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">return</span> (m_tcpServer.<a class="code" href="classc_i_s_tcp_server.html#aac4d54da90e343a68ab167afbe500cae">Open</a>(host, atoi(port.c_str())) == 0);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a8effe3d6e6b05ca285ef413a85223e09">  371</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_inertial_sense.html#a8effe3d6e6b05ca285ef413a85223e09">InertialSense::IsOpen</a>()</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> (m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size() != 0 &amp;&amp; <a class="code" href="serial_port_8c.html#a1a70fde2df9b4376c6790e67a772a5ef">serialPortIsOpen</a>(&amp;m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[0].serialPort));</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a73d4f861a31cb73d2b5d7610b653711e">  376</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="class_inertial_sense.html#a73d4f861a31cb73d2b5d7610b653711e">InertialSense::GetDeviceCount</a>()</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span> m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size();</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a8f375c416f8b8fc007de5053e45f5e5b">  381</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_inertial_sense.html#a8f375c416f8b8fc007de5053e45f5e5b">InertialSense::Update</a>()</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (m_tcpServer.<a class="code" href="classc_i_s_tcp_server.html#a72a04c0901f3789020cbebafeb487cad">IsOpen</a>() &amp;&amp; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size() != 0)</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        UpdateServer();</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        UpdateClient();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        </div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="comment">// [C COMM INSTRUCTION]  2.) Update Com Manager at regular interval to send and receive data.  </span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="comment">// Normally called within a while loop.  Include a thread &quot;sleep&quot; if running on a multi-thread/</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="comment">// task system with serial port read function that does NOT incorporate a timeout.   </span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">if</span> (m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size() != 0)</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <a class="code" href="com__manager_8c.html#a5153eef615e1ad8cd2025156d1be51d7">comManagerStep</a>();</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">// if any serial ports have closed, shutdown</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="serial_port_8c.html#a1a70fde2df9b4376c6790e67a772a5ef">serialPortIsOpen</a>(&amp;m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[i].serialPort))</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="class_inertial_sense.html#a08aa8dd64db81fe35415a08435349318">Close</a>();</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="keywordtype">bool</span> InertialSense::UpdateServer()</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;{</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// as a tcp server, only the first serial port is read from</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="structis__comm__instance__t.html">is_comm_instance_t</a> *comm = &amp;(m_gpComm);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a> ptype = <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92ae69f248f76f2905c0fabf5b94f8ca99e">_PTYPE_NONE</a>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="comment">// Get available size of comm buffer</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordtype">int</span> n = <a class="code" href="_i_s_comm_8c.html#a9668d16e885b5b012da0f9cc8478df22">is_comm_free</a>(comm);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// Read data directly into comm buffer</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> ((n = <a class="code" href="serial_port_8c.html#a7426c48831273ec45889f652623d00df">serialPortReadTimeout</a>(&amp;m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[0].serialPort, comm-&gt;<a class="code" href="structis__comm__instance__t.html#af4797293c9ba54891399bd0c92ad10f5">buf</a>.<a class="code" href="structis__comm__buffer__t.html#a0952f2e0f4c2a342b1dbcd5c0c2ce4f6">tail</a>, n, 0)))</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="comment">// Update comm buffer tail pointer</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        comm-&gt;<a class="code" href="structis__comm__instance__t.html#af4797293c9ba54891399bd0c92ad10f5">buf</a>.<a class="code" href="structis__comm__buffer__t.html#a0952f2e0f4c2a342b1dbcd5c0c2ce4f6">tail</a> += n;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="comment">// Search comm buffer for valid packets</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">while</span> ((ptype = <a class="code" href="_i_s_comm_8c.html#a544887091650ae61ee2d66b26eb45178">is_comm_parse</a>(comm)) != <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92ae69f248f76f2905c0fabf5b94f8ca99e">_PTYPE_NONE</a>)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="comment">// len = 0;</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordtype">string</span> str;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">switch</span> (ptype)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a0cb31e2b793b68365c81093c80c66d8f">_PTYPE_RTCM3</a>:</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a500b3fb138df17ec2dbdcbe35ee8aa7c">_PTYPE_UBLOX</a>:</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="comment">// forward data on to connected clients</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                m_clientServerByteCount += comm-&gt;<a class="code" href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">dataHdr</a>.<a class="code" href="structp__data__hdr__t.html#ae4e77713f907776d843284114634d642">size</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <span class="keywordflow">if</span> (m_tcpServer.<a class="code" href="classc_i_s_tcp_server.html#adda8d8b08ca0ac887be66f6e4572e6e4">Write</a>(comm-&gt;<a class="code" href="structis__comm__instance__t.html#aa41f8ba97357c75e2238577d03c0b93a">dataPtr</a>, comm-&gt;<a class="code" href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">dataHdr</a>.<a class="code" href="structp__data__hdr__t.html#ae4e77713f907776d843284114634d642">size</a>) != (int)comm-&gt;<a class="code" href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">dataHdr</a>.<a class="code" href="structp__data__hdr__t.html#ae4e77713f907776d843284114634d642">size</a>)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Failed to write bytes to tcp server!&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                <span class="keywordflow">if</span> (ptype == <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a0cb31e2b793b68365c81093c80c66d8f">_PTYPE_RTCM3</a>)</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                    <span class="comment">// len = messageStatsGetbitu(comm-&gt;dataPtr, 14, 10);</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                    <span class="keywordtype">id</span> = <a class="code" href="message__stats_8cpp.html#a78030aa3ee0d9e2490a899fbdf8b0fd2">messageStatsGetbitu</a>(comm-&gt;<a class="code" href="structis__comm__instance__t.html#aa41f8ba97357c75e2238577d03c0b93a">dataPtr</a>, 24, 12);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    <span class="keywordflow">if</span> ((<span class="keywordtype">id</span> == 1029) &amp;&amp; (comm-&gt;<a class="code" href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">dataHdr</a>.<a class="code" href="structp__data__hdr__t.html#ae4e77713f907776d843284114634d642">size</a> &lt; 1024))</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                        str = string().assign(reinterpret_cast&lt;char*&gt;(comm-&gt;<a class="code" href="structis__comm__instance__t.html#aa41f8ba97357c75e2238577d03c0b93a">dataPtr</a> + 12), comm-&gt;<a class="code" href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">dataHdr</a>.<a class="code" href="structp__data__hdr__t.html#ae4e77713f907776d843284114634d642">size</a> - 12);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ptype == <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a500b3fb138df17ec2dbdcbe35ee8aa7c">_PTYPE_UBLOX</a>)</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                    <span class="keywordtype">id</span> = *((uint16_t*)(&amp;comm-&gt;<a class="code" href="structis__comm__instance__t.html#aa41f8ba97357c75e2238577d03c0b93a">dataPtr</a>[2]));</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a47030cef4455d88b0d81f625fd34f3fc">_PTYPE_PARSE_ERROR</a>:</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a7a2019d0fee2fc6678a16f736488b4ca">_PTYPE_INERTIAL_SENSE_DATA</a>:</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a9a0e8c7b3cb0a61f2101c5b1a9540167">_PTYPE_INERTIAL_SENSE_CMD</a>:</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <span class="keywordtype">id</span> = comm-&gt;<a class="code" href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">dataHdr</a>.<a class="code" href="structp__data__hdr__t.html#a0a70811dba0872fe68a2d58c24cb7894">id</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92aadc2747a94a51184d91a12b0cec74590">_PTYPE_ASCII_NMEA</a>:</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                {   <span class="comment">// Use first four characters before comma (e.g. PGGA in $GPGGA,...)   </span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                    uint8_t *pStart = comm-&gt;<a class="code" href="structis__comm__instance__t.html#aa41f8ba97357c75e2238577d03c0b93a">dataPtr</a> + 2;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                    uint8_t *pEnd = std::find(pStart, pStart + 8, <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                    pStart = <a class="code" href="_i_s_constants_8h.html#a7a7cae471ca91e09f2432b2c13a8bb45">_MAX</a>(pStart, pEnd - 8);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                    memcpy(&amp;<span class="keywordtype">id</span>, pStart, (pEnd - pStart));</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="keywordflow">if</span> (ptype != <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92ae69f248f76f2905c0fabf5b94f8ca99e">_PTYPE_NONE</a>)</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            {   <span class="comment">// Record message info</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <a class="code" href="message__stats_8cpp.html#a5d358ee7d552881c578e4badf6d74d0a">messageStatsAppend</a>(str, m_serverMessageStats, ptype, <span class="keywordtype">id</span>, <a class="code" href="_i_s_utilities_8cpp.html#a37c726e89f1159850ad51105b569a696">current_timeMs</a>());</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    m_tcpServer.<a class="code" href="classc_i_s_tcp_server.html#a0407d47a3a0f522e09f088d4a20e469b">Update</a>();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="keywordtype">bool</span> InertialSense::UpdateClient()</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">if</span> (m_clientStream == <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>)</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// Forward only valid uBlox and RTCM3 packets</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="structis__comm__instance__t.html">is_comm_instance_t</a> *comm = &amp;(m_gpComm);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a> ptype = <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92ae69f248f76f2905c0fabf5b94f8ca99e">_PTYPE_NONE</a>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> error = 0;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// Get available size of comm buffer</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordtype">int</span> n = <a class="code" href="_i_s_comm_8c.html#a9668d16e885b5b012da0f9cc8478df22">is_comm_free</a>(comm);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// Read data directly into comm buffer</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span> ((n = m_clientStream-&gt;<a class="code" href="classc_i_s_stream.html#a1dbc8dbb611dc06573fce0bf15259adb">Read</a>(comm-&gt;<a class="code" href="structis__comm__instance__t.html#af4797293c9ba54891399bd0c92ad10f5">buf</a>.<a class="code" href="structis__comm__buffer__t.html#a0952f2e0f4c2a342b1dbcd5c0c2ce4f6">tail</a>, n)))</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="comment">// Update comm buffer tail pointer</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        comm-&gt;<a class="code" href="structis__comm__instance__t.html#af4797293c9ba54891399bd0c92ad10f5">buf</a>.<a class="code" href="structis__comm__buffer__t.html#a0952f2e0f4c2a342b1dbcd5c0c2ce4f6">tail</a> += n;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="comment">// Search comm buffer for valid packets</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">while</span> ((ptype = <a class="code" href="_i_s_comm_8c.html#a544887091650ae61ee2d66b26eb45178">is_comm_parse</a>(comm)) != <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92ae69f248f76f2905c0fabf5b94f8ca99e">_PTYPE_NONE</a>)</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordtype">string</span> str;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordflow">switch</span> (ptype)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a500b3fb138df17ec2dbdcbe35ee8aa7c">_PTYPE_UBLOX</a>:</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a0cb31e2b793b68365c81093c80c66d8f">_PTYPE_RTCM3</a>:</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                m_clientServerByteCount += comm-&gt;<a class="code" href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">dataHdr</a>.<a class="code" href="structp__data__hdr__t.html#ae4e77713f907776d843284114634d642">size</a>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                <a class="code" href="class_inertial_sense.html#a352ebef762136664fea66ccefe50a837">OnPacketReceived</a>(comm-&gt;<a class="code" href="structis__comm__instance__t.html#aa41f8ba97357c75e2238577d03c0b93a">dataPtr</a>, comm-&gt;<a class="code" href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">dataHdr</a>.<a class="code" href="structp__data__hdr__t.html#ae4e77713f907776d843284114634d642">size</a>);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                <span class="keywordflow">if</span> (ptype == <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a0cb31e2b793b68365c81093c80c66d8f">_PTYPE_RTCM3</a>)</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                    <span class="keywordtype">id</span> = <a class="code" href="message__stats_8cpp.html#a78030aa3ee0d9e2490a899fbdf8b0fd2">messageStatsGetbitu</a>(comm-&gt;<a class="code" href="structis__comm__instance__t.html#aa41f8ba97357c75e2238577d03c0b93a">dataPtr</a>, 24, 12);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                    <span class="keywordflow">if</span> ((<span class="keywordtype">id</span> == 1029) &amp;&amp; (comm-&gt;<a class="code" href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">dataHdr</a>.<a class="code" href="structp__data__hdr__t.html#ae4e77713f907776d843284114634d642">size</a> &lt; 1024))</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                    {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                        str = string().assign(reinterpret_cast&lt;char*&gt;(comm-&gt;<a class="code" href="structis__comm__instance__t.html#aa41f8ba97357c75e2238577d03c0b93a">dataPtr</a> + 12), comm-&gt;<a class="code" href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">dataHdr</a>.<a class="code" href="structp__data__hdr__t.html#ae4e77713f907776d843284114634d642">size</a> - 12);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                    }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ptype == <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a500b3fb138df17ec2dbdcbe35ee8aa7c">_PTYPE_UBLOX</a>)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                    <span class="keywordtype">id</span> = *((uint16_t*)(&amp;comm-&gt;<a class="code" href="structis__comm__instance__t.html#aa41f8ba97357c75e2238577d03c0b93a">dataPtr</a>[2]));</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a47030cef4455d88b0d81f625fd34f3fc">_PTYPE_PARSE_ERROR</a>:</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                printf(<span class="stringliteral">&quot;PARSE ERROR: %d\n&quot;</span>, error++);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a7a2019d0fee2fc6678a16f736488b4ca">_PTYPE_INERTIAL_SENSE_DATA</a>:</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a9a0e8c7b3cb0a61f2101c5b1a9540167">_PTYPE_INERTIAL_SENSE_CMD</a>:</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                <span class="keywordtype">id</span> = comm-&gt;<a class="code" href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">dataHdr</a>.<a class="code" href="structp__data__hdr__t.html#a0a70811dba0872fe68a2d58c24cb7894">id</a>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92aadc2747a94a51184d91a12b0cec74590">_PTYPE_ASCII_NMEA</a>:</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                {   <span class="comment">// Use first four characters before comma (e.g. PGGA in $GPGGA,...)   </span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    uint8_t *pStart = comm-&gt;<a class="code" href="structis__comm__instance__t.html#aa41f8ba97357c75e2238577d03c0b93a">dataPtr</a> + 2;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    uint8_t *pEnd = std::find(pStart, pStart + 8, <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                    pStart = <a class="code" href="_i_s_constants_8h.html#a7a7cae471ca91e09f2432b2c13a8bb45">_MAX</a>(pStart, pEnd - 8);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    memcpy(&amp;<span class="keywordtype">id</span>, pStart, (pEnd - pStart));</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">if</span> (ptype != <a class="code" href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92ae69f248f76f2905c0fabf5b94f8ca99e">_PTYPE_NONE</a>)</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            {   <span class="comment">// Record message info</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <a class="code" href="message__stats_8cpp.html#a5d358ee7d552881c578e4badf6d74d0a">messageStatsAppend</a>(str, m_clientMessageStats, ptype, <span class="keywordtype">id</span>, <a class="code" href="_i_s_utilities_8cpp.html#a37c726e89f1159850ad51105b569a696">current_timeMs</a>());</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">// Send data to client if available, i.e. nmea gga pos</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span> (m_clientBufferBytesToSend &gt; 0 &amp;&amp; m_forwardGpgga)</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        m_clientStream-&gt;<a class="code" href="classc_i_s_stream.html#ab96ca66e9b6ae8ac150f1a48f49dc119">Write</a>(m_clientBuffer, m_clientBufferBytesToSend);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    m_clientBufferBytesToSend = 0;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;}</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a08aa8dd64db81fe35415a08435349318">  579</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#a08aa8dd64db81fe35415a08435349318">InertialSense::Close</a>()</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;{</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="class_inertial_sense.html#ae3e7952b33b002b869712303a6725e94">SetLoggerEnabled</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (m_disableBroadcastsOnClose)</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <a class="code" href="class_inertial_sense.html#ac5a61c3455a9847b7ba811ed9c1f7451">StopBroadcasts</a>();</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <a class="code" href="_i_s_utilities_8h.html#a038783cd27cbb54e9c8d8708f147168e">SLEEP_MS</a>(100);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <a class="code" href="serial_port_8c.html#a25ebaeafcc060a447ec1a38a8085943d">serialPortClose</a>(&amp;m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[i].serialPort);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.clear();</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="class_inertial_sense.html#a73a675fd832f7579cd790de41f40f5fe">CloseServerConnection</a>();</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#aa1d37d7574e1a5466ac75d26d4eaaf2a">  595</a></span>&#160;vector&lt;string&gt; <a class="code" href="class_inertial_sense.html#aa1d37d7574e1a5466ac75d26d4eaaf2a">InertialSense::GetPorts</a>()</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;{</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    vector&lt;string&gt; ports;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        ports.push_back(m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[i].serialPort.port);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">return</span> ports;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;}</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#ac5a61c3455a9847b7ba811ed9c1f7451">  605</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#ac5a61c3455a9847b7ba811ed9c1f7451">InertialSense::StopBroadcasts</a>(<span class="keywordtype">bool</span> allPorts)</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;{</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    uint8_t pid = (allPorts ? <a class="code" href="_i_s_comm_8h.html#ac6e603670e69c96b8f8d3ad9ef9d7920">PID_STOP_BROADCASTS_ALL_PORTS</a> : <a class="code" href="_i_s_comm_8h.html#a20242d8c94321ec78956a2eee64f94f3">PID_STOP_BROADCASTS_CURRENT_PORT</a>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">// Stop all broadcasts</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="comment">// [C COMM INSTRUCTION]  Turns off (disable) all broadcasting and streaming on all ports from the uINS.</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <a class="code" href="com__manager_8c.html#a9ffb3e89b6bb53a26e590903ac97b8e9">comManagerSend</a>((<span class="keywordtype">int</span>)i, pid, 0, 0, 0);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    }</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#af7416c1ee74da66cbcfb77629dac57c5">  617</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#af7416c1ee74da66cbcfb77629dac57c5">InertialSense::SendData</a>(<a class="code" href="data__sets_8h.html#a9fcc2d0ede852d5c2f024fbffd476c6e">eDataIDs</a> dataId, uint8_t* data, uint32_t length, uint32_t offset)</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;{</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="comment">// [C COMM INSTRUCTION]  4.) Send data to the uINS.  </span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <a class="code" href="com__manager_8c.html#a4f2c449501f06efa1689f82b88a1db64">comManagerSendData</a>((<span class="keywordtype">int</span>)i, dataId, data, length, offset);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#abb6f052b9425dd24bd82224fe0e1cfa8">  626</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#abb6f052b9425dd24bd82224fe0e1cfa8">InertialSense::SendRawData</a>(<a class="code" href="data__sets_8h.html#a9fcc2d0ede852d5c2f024fbffd476c6e">eDataIDs</a> dataId, uint8_t* data, uint32_t length, uint32_t offset)</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;{</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <a class="code" href="com__manager_8c.html#a750c925ebe5c23deeecd6c3dc47df2c9">comManagerSendRawData</a>((<span class="keywordtype">int</span>)i, dataId, data, length, offset);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    }</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a7f2f9b60a912bb26f90c1e68c8afd630">  634</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#a7f2f9b60a912bb26f90c1e68c8afd630">InertialSense::SetSysCmd</a>(<span class="keyword">const</span> <a class="code" href="struct_p_a_c_k_e_d.html">system_command_t</a>&amp; sysCmd, <span class="keywordtype">int</span> pHandle)</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;{</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)pHandle &gt;= m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size())</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].sysCmd = sysCmd;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="comment">// [C COMM INSTRUCTION]  Update the entire DID_SYS_CMD data set in the uINS.  </span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="com__manager_8c.html#a4f2c449501f06efa1689f82b88a1db64">comManagerSendData</a>(pHandle, <a class="code" href="data__sets_8h.html#a34433a6f8530254b5e16a4401e48ad75">DID_SYS_CMD</a>, &amp;m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].sysCmd, <span class="keyword">sizeof</span>(sysCmd), 0);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a74e73c287e795c9556b399be22432870">  646</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#a74e73c287e795c9556b399be22432870">InertialSense::SetFlashConfig</a>(<span class="keyword">const</span> <a class="code" href="struct_p_a_c_k_e_d.html">nvm_flash_cfg_t</a>&amp; flashCfg, <span class="keywordtype">int</span> pHandle)</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;{</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)pHandle &gt;= m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size())</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].flashCfg = flashCfg;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// [C COMM INSTRUCTION]  Update the entire DID_FLASH_CONFIG data set in the uINS.  </span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="com__manager_8c.html#a4f2c449501f06efa1689f82b88a1db64">comManagerSendData</a>(pHandle, <a class="code" href="data__sets_8h.html#a8fef46b9aa13b2342a66e71e72443713">DID_FLASH_CONFIG</a>, &amp;m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].flashCfg, <span class="keyword">sizeof</span>(<a class="code" href="struct_p_a_c_k_e_d.html">nvm_flash_cfg_t</a>), 0);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <a class="code" href="class_inertial_sense.html#a8f375c416f8b8fc007de5053e45f5e5b">Update</a>();</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a9daba15ddabf71cb65625c0dee68b230">  659</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#a9daba15ddabf71cb65625c0dee68b230">InertialSense::SetEvbFlashConfig</a>(<span class="keyword">const</span> <a class="code" href="structevb__flash__cfg__t.html">evb_flash_cfg_t</a>&amp; evbFlashCfg, <span class="keywordtype">int</span> pHandle)</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)pHandle &gt;= m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size())</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].evbFlashCfg = evbFlashCfg;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">// [C COMM INSTRUCTION]  Update the entire DID_FLASH_CONFIG data set in the uINS.  </span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="com__manager_8c.html#a4f2c449501f06efa1689f82b88a1db64">comManagerSendData</a>(pHandle, <a class="code" href="data__sets_8h.html#a7c9fb16bbb2b3eac21c6c10aedcc4eba">DID_EVB_FLASH_CFG</a>, &amp;m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[pHandle].evbFlashCfg, <span class="keyword">sizeof</span>(<a class="code" href="structevb__flash__cfg__t.html">evb_flash_cfg_t</a>), 0);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="class_inertial_sense.html#a8f375c416f8b8fc007de5053e45f5e5b">Update</a>();</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a417a7cb6a3805f74a48e09795f8bac1b">  672</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_inertial_sense.html#a417a7cb6a3805f74a48e09795f8bac1b">InertialSense::BroadcastBinaryData</a>(uint32_t dataId, <span class="keywordtype">int</span> periodMultiple, <a class="code" href="_inertial_sense_8h.html#a728862e429ee3497de0252d42807dd31">pfnHandleBinaryData</a> callback)</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;{</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span> (m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size() == 0 || dataId &gt;= (<span class="keyword">sizeof</span>(m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a84d9ae16a0c182d96c5c67b1e51d8cce">binaryCallback</a>)/<span class="keyword">sizeof</span>(<a class="code" href="_inertial_sense_8h.html#a728862e429ee3497de0252d42807dd31">pfnHandleBinaryData</a>)))</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a84d9ae16a0c182d96c5c67b1e51d8cce">binaryCallback</a>[dataId] = callback;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span> (periodMultiple &lt; 0)</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    {</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            <span class="comment">// [C COMM INSTRUCTION]  Stop broadcasting of one specific DID message from the uINS.</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <a class="code" href="com__manager_8c.html#a8e579189eb6108310736f30327a0cd0b">comManagerDisableData</a>(i, dataId);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    }</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <span class="comment">// [C COMM INSTRUCTION]  3.) Request a specific data set from the uINS.  &quot;periodMultiple&quot; specifies the interval</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="comment">// between broadcasts and &quot;periodMultiple=0&quot; will disable broadcasts and transmit one single message. </span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <a class="code" href="com__manager_8c.html#a2f5355ba3c4e3467fd3eba423904324b">comManagerGetData</a>(i, dataId, 0, 0, periodMultiple);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a5ddce25f9f831619ad585c6ac7a2ba66">  702</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#a5ddce25f9f831619ad585c6ac7a2ba66">InertialSense::BroadcastBinaryDataRmcPreset</a>(uint64_t rmcPreset, uint32_t rmcOptions)</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;{</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="comment">// [C COMM INSTRUCTION]  Use a preset to enable a predefined set of messages.  R </span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <a class="code" href="com__manager_8c.html#aae55430658079aefb707533cd58c5f5a">comManagerGetDataRmc</a>((<span class="keywordtype">int</span>)i, rmcPreset, rmcOptions);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    }</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a5cf3d33ec95365147fc1c0abe249effd">  711</a></span>&#160;vector&lt;InertialSense::bootload_result_t&gt; <a class="code" href="class_inertial_sense.html#a5cf3d33ec95365147fc1c0abe249effd">InertialSense::BootloadFile</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; comPort, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; fileName, <span class="keywordtype">int</span> baudRate, <a class="code" href="inertial_sense_boot_loader_8h.html#af3960f600015ba067228d38c25f178f0">pfnBootloadProgress</a> uploadProgress, <a class="code" href="inertial_sense_boot_loader_8h.html#af3960f600015ba067228d38c25f178f0">pfnBootloadProgress</a> verifyProgress, <a class="code" href="inertial_sense_boot_loader_8h.html#a871ef77795d0f1bfb333352cb3bdfb8f">pfnBootloadStatus</a> infoProgress, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; bootloaderFileName, <span class="keywordtype">bool</span> forceBootloaderUpdate)</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    vector&lt;bootload_result_t&gt; results;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    vector&lt;string&gt; portStrings;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    vector&lt;bootload_state_t&gt; state;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">if</span> (comPort == <span class="stringliteral">&quot;*&quot;</span>)</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <a class="code" href="classc_i_s_serial_port.html#ab9db3ea68b2737f399a4ea5903f3b23f">cISSerialPort::GetComPorts</a>(portStrings);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <a class="code" href="_i_s_utilities_8cpp.html#acc154ee31d8e7cb1bd9f21069160bd9d">splitString</a>(comPort, <span class="charliteral">&#39;,&#39;</span>, portStrings);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    sort(portStrings.begin(), portStrings.end());</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    state.resize(portStrings.size());</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// file exists?</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        ifstream tmpStream(fileName);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">if</span> (!tmpStream.good())</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; state.size(); i++)</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                results.push_back({ state[i].serial.port, <span class="stringliteral">&quot;File does not exist&quot;</span> });</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    }</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span> (results.size() == 0)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="comment">// for each port requested, setup a thread to do the bootloader for that port</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; state.size(); i++)</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            memset(state[i].param.error, 0, <a class="code" href="inertial_sense_boot_loader_8h.html#ab22aca14c8a64bf08273664ce796c2d5">BOOTLOADER_ERROR_LENGTH</a>);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <a class="code" href="serial_port_platform_8c.html#aeec6b758f4697c6c913d4b3955c0c8c4">serialPortPlatformInit</a>(&amp;state[i].serial);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <a class="code" href="serial_port_8c.html#adf63e1ee60b5ec17eec7fe5b8d42fc1c">serialPortSetPort</a>(&amp;state[i].serial, portStrings[i].c_str());</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            state[i].param.uploadProgress = uploadProgress;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            state[i].param.verifyProgress = verifyProgress;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            state[i].param.statusText = infoProgress;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            state[i].param.fileName = fileName.c_str();</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            state[i].param.bootName = bootloaderFileName.c_str();</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            state[i].param.forceBootloaderUpdate = forceBootloaderUpdate;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            state[i].param.port = &amp;state[i].serial;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            state[i].param.verifyFileName = <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            state[i].param.flags.bitFields.enableVerify = (verifyProgress != <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a>);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            state[i].param.numberOfDevices = (int)state.size();</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            state[i].param.baudRate = baudRate;         </div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <span class="keywordflow">if</span> (strstr(state[i].param.fileName, <span class="stringliteral">&quot;EVB&quot;</span>) != NULL)</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            {   <span class="comment">// Enable EVB bootloader</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                strncpy(state[i].param.bootloadEnableCmd, <span class="stringliteral">&quot;EBLE&quot;</span>, 4);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            {   <span class="comment">// Enable uINS bootloader</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                strncpy(state[i].param.bootloadEnableCmd, <span class="stringliteral">&quot;BLEN&quot;</span>, 4);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="comment">// Update application and bootloader firmware</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            state[i].thread = <a class="code" href="_i_s_utilities_8cpp.html#af86294fec13e0223d1b36a2b4e57b61f">threadCreateAndStart</a>(bootloaderUpdateBootloaderThread, &amp;state[i]);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        }</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="comment">// wait for all threads to finish</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; state.size(); i++)</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            <a class="code" href="_i_s_utilities_8cpp.html#accf248be103fbab76b6bbdfae67b6d52">threadJoinAndFree</a>(state[i].thread);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="comment">// if any thread failed, we return failure</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; state.size(); i++)</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        {</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            results.push_back({ state[i].serial.port, state[i].param.error });</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        }</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">return</span> results;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;}</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a352ebef762136664fea66ccefe50a837">  788</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_inertial_sense.html#a352ebef762136664fea66ccefe50a837">InertialSense::OnPacketReceived</a>(<span class="keyword">const</span> uint8_t* data, uint32_t dataLength)</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;{</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="comment">// sleep in between to allow test bed to send the serial data</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="comment">// TODO: This was 10ms, but that was to long for the CI test.</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">//      SLEEP_MS(1);    // This is commented out because it causes problems when using testbad with cltool on single board computer.</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="serial_port_8c.html#ad2240e52502e49f931504565cc1d39d0">serialPortWrite</a>(&amp;m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>[i].serialPort, data, dataLength);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// do not parse, since we are just forwarding it on</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#ad55ff70e5c606085075e60d7a32b7159">  800</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#ad55ff70e5c606085075e60d7a32b7159">InertialSense::OnClientConnecting</a>(<a class="code" href="classc_i_s_tcp_server.html">cISTcpServer</a>* server)</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;{</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    (void)server;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="comment">// cout &lt;&lt; endl &lt;&lt; &quot;Client connecting...&quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;}</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#a14816a23373f073abdf09ef4ff5cad26">  806</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#a14816a23373f073abdf09ef4ff5cad26">InertialSense::OnClientConnected</a>(<a class="code" href="classc_i_s_tcp_server.html">cISTcpServer</a>* server, socket_t socket)</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;{</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// cout &lt;&lt; endl &lt;&lt; &quot;Client connected: &quot; &lt;&lt; (int)socket &lt;&lt; endl;</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    m_clientConnectionsCurrent++;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    m_clientConnectionsTotal++;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#af8c69dc2c40e39503fbb447847df0d5a">  813</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#af8c69dc2c40e39503fbb447847df0d5a">InertialSense::OnClientConnectFailed</a>(<a class="code" href="classc_i_s_tcp_server.html">cISTcpServer</a>* server)</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;{</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="comment">// cout &lt;&lt; endl &lt;&lt; &quot;Client connection failed!&quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;}</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="class_inertial_sense.html#ade1eb02ed38bcb28759df421803b31e6">  818</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_inertial_sense.html#ade1eb02ed38bcb28759df421803b31e6">InertialSense::OnClientDisconnected</a>(<a class="code" href="classc_i_s_tcp_server.html">cISTcpServer</a>* server, socket_t socket)</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;{</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="comment">// cout &lt;&lt; endl &lt;&lt; &quot;Client disconnected: &quot; &lt;&lt; (int)socket &lt;&lt; endl;</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    m_clientConnectionsCurrent--;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">if</span> (m_clientConnectionsCurrent&lt;0)</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        m_clientConnectionsCurrent = 0;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;}</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="keywordtype">bool</span> InertialSense::OpenSerialPorts(<span class="keyword">const</span> <span class="keywordtype">char</span>* port, <span class="keywordtype">int</span> baudRate)</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;{</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <a class="code" href="class_inertial_sense.html#a08aa8dd64db81fe35415a08435349318">Close</a>();</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">if</span> (port == <a class="code" href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a> || <a class="code" href="com__manager_8c.html#a202229d24b4a3d1a7ec9880ec5e309b8">comManagerValidateBaudRate</a>(baudRate) != 0)</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    {</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    }</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="comment">// split port on comma in case we need to open multiple serial ports</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    vector&lt;string&gt; ports;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordtype">size_t</span> maxCount = UINT32_MAX;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// handle wildcard, auto-detect serial ports</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">if</span> (port[0] == <span class="charliteral">&#39;*&#39;</span>)</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <a class="code" href="classc_i_s_serial_port.html#ab9db3ea68b2737f399a4ea5903f3b23f">cISSerialPort::GetComPorts</a>(ports);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">if</span> (port[1] != <span class="charliteral">&#39;\0&#39;</span>)</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            maxCount = atoi(port + 1);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            maxCount = (maxCount == 0 ? UINT32_MAX : maxCount);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    }</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="comment">// comma separated list of serial ports</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <a class="code" href="_i_s_utilities_8cpp.html#acc154ee31d8e7cb1bd9f21069160bd9d">splitString</a>(port, <span class="charliteral">&#39;,&#39;</span>, ports);</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    }</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// open serial ports</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; ports.size(); i++)</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <a class="code" href="structserial__port__t.html">serial_port_t</a> serial;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <a class="code" href="serial_port_platform_8c.html#aeec6b758f4697c6c913d4b3955c0c8c4">serialPortPlatformInit</a>(&amp;serial);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="serial_port_8c.html#a85707d7328266b2196d994598e0465fe">serialPortOpen</a>(&amp;serial, ports[i].c_str(), baudRate, 0) == 0)</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            <span class="comment">// failed to open</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            <a class="code" href="serial_port_8c.html#a25ebaeafcc060a447ec1a38a8085943d">serialPortClose</a>(&amp;serial);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        {</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            is_device_t device = {};</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            device.serialPort = serial;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.push_back(device);</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        }</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="comment">// [C COMM INSTRUCTION]  1.) Setup com manager.  Specify number of serial ports and register callback functions for</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">// serial port read and write and for successfully parsed data.  Ensure appropriate buffer memory allocation.</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">if</span> (m_cmPorts) { <span class="keyword">delete</span> [] m_cmPorts; }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    m_cmPorts = <span class="keyword">new</span> <a class="code" href="structcom__manager__port__t.html">com_manager_port_t</a>[m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size()];</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">if</span> (m_cmInit.<a class="code" href="structcom__manager__init__t.html#a0dab24aaebe54612e9d4d02cabaa4503">broadcastMsg</a>) { <span class="keyword">delete</span> [] m_cmInit.<a class="code" href="structcom__manager__init__t.html#a0dab24aaebe54612e9d4d02cabaa4503">broadcastMsg</a>; }</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    m_cmInit.<a class="code" href="structcom__manager__init__t.html#a3b5094d1031463ea2d16492f62416a0b">broadcastMsgSize</a> = <a class="code" href="com__manager_8h.html#a94b57baf71498218c44b4d81e3e3f0a0">COM_MANAGER_BUF_SIZE_BCAST_MSG</a>(<a class="code" href="com__manager_8h.html#a08d1326bfd508f5c35f3a8853488ad04">MAX_NUM_BCAST_MSGS</a>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    m_cmInit.<a class="code" href="structcom__manager__init__t.html#a0dab24aaebe54612e9d4d02cabaa4503">broadcastMsg</a> = <span class="keyword">new</span> <a class="code" href="structbroadcast__msg__t.html">broadcast_msg_t</a>[<a class="code" href="com__manager_8h.html#a08d1326bfd508f5c35f3a8853488ad04">MAX_NUM_BCAST_MSGS</a>];</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="preprocessor">#define NUM_ENSURED_PKTS 10</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> (m_cmInit.<a class="code" href="structcom__manager__init__t.html#aaa672a3048326245bb3d6bb077279da9">ensuredPackets</a>) { <span class="keyword">delete</span> [] m_cmInit.<a class="code" href="structcom__manager__init__t.html#aaa672a3048326245bb3d6bb077279da9">ensuredPackets</a>; }</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    m_cmInit.<a class="code" href="structcom__manager__init__t.html#a08bc6ef8b7066afeea78213cb2cd18d4">ensuredPacketsSize</a> = <a class="code" href="com__manager_8h.html#aa0545344d4561b3d4aa1a603e7f634bb">COM_MANAGER_BUF_SIZE_ENSURED_PKTS</a>(<a class="code" href="_inertial_sense_8cpp.html#aaabb5477eff7d77a3bef686aec624bb2">NUM_ENSURED_PKTS</a>);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    m_cmInit.<a class="code" href="structcom__manager__init__t.html#aaa672a3048326245bb3d6bb077279da9">ensuredPackets</a> = <span class="keyword">new</span> <a class="code" href="structensured__pkt__t.html">ensured_pkt_t</a>[<a class="code" href="_inertial_sense_8cpp.html#aaabb5477eff7d77a3bef686aec624bb2">NUM_ENSURED_PKTS</a>];</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="com__manager_8c.html#af2aa81d370e11d22f2f05589000ef210">comManagerInit</a>((<span class="keywordtype">int</span>)m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(), <a class="code" href="_inertial_sense_8cpp.html#aaabb5477eff7d77a3bef686aec624bb2">NUM_ENSURED_PKTS</a>, 10, 10, staticReadPacket, staticSendPacket, 0, staticProcessRxData, 0, 0, &amp;m_cmInit, m_cmPorts) == -1)</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    {   <span class="comment">// Error</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="comment">// negotiate baud rate by querying device info - don&#39;t return out until it negotiates or times out</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="comment">// if the baud rate is already correct, the request for the message should succeed very quickly</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    time_t startTime = time(0);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">// try to auto-baud for up to 10 seconds, then abort if we didn&#39;t get a valid packet</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="comment">// we wait until we get a valid serial number and manufacturer</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">while</span> (!HasReceivedResponseFromAllDevices() &amp;&amp; time(0) - startTime &lt; 10)</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(); i++)</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        {</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <a class="code" href="com__manager_8c.html#a2f5355ba3c4e3467fd3eba423904324b">comManagerGetData</a>((<span class="keywordtype">int</span>)i, <a class="code" href="data__sets_8h.html#a34433a6f8530254b5e16a4401e48ad75">DID_SYS_CMD</a>, 0, 0, 0);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <a class="code" href="com__manager_8c.html#a2f5355ba3c4e3467fd3eba423904324b">comManagerGetData</a>((<span class="keywordtype">int</span>)i, <a class="code" href="data__sets_8h.html#a5ad06fc2f66d620d031065c8dc711904">DID_DEV_INFO</a>, 0, 0, 0);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <a class="code" href="com__manager_8c.html#a2f5355ba3c4e3467fd3eba423904324b">comManagerGetData</a>((<span class="keywordtype">int</span>)i, <a class="code" href="data__sets_8h.html#a8fef46b9aa13b2342a66e71e72443713">DID_FLASH_CONFIG</a>, 0, 0, 0);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <a class="code" href="com__manager_8c.html#a2f5355ba3c4e3467fd3eba423904324b">comManagerGetData</a>((<span class="keywordtype">int</span>)i, <a class="code" href="data__sets_8h.html#a7c9fb16bbb2b3eac21c6c10aedcc4eba">DID_EVB_FLASH_CFG</a>, 0, 0, 0);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        }</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <a class="code" href="_i_s_utilities_8h.html#a038783cd27cbb54e9c8d8708f147168e">SLEEP_MS</a>(13);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <a class="code" href="com__manager_8c.html#a5153eef615e1ad8cd2025156d1be51d7">comManagerStep</a>();</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    }</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordtype">bool</span> removedSerials = <span class="keyword">false</span>;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="comment">// remove each failed device where communications were not received</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = ((<span class="keywordtype">int</span>)m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size() - 1); i &gt;= 0; i--)</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">if</span> (!HasReceivedResponseFromDevice(i))</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            RemoveDevice(i);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            removedSerials = <span class="keyword">true</span>;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    }</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="comment">// if no devices left, all failed, we return failure</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">if</span> (m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size() == 0)</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <a class="code" href="class_inertial_sense.html#a08aa8dd64db81fe35415a08435349318">Close</a>();</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    }</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="comment">// remove ports if we are over max count</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">while</span> (m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size() &gt; maxCount)</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    {</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        RemoveDevice(m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size()-1);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        removedSerials = <span class="keyword">true</span>;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">// setup com manager again if serial ports dropped out with new count of serial ports</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">if</span> (removedSerials)</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    {</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <a class="code" href="com__manager_8c.html#af2aa81d370e11d22f2f05589000ef210">comManagerInit</a>((<span class="keywordtype">int</span>)m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size(), 10, 10, 10, staticReadPacket, staticSendPacket, 0, staticProcessRxData, 0, 0, &amp;m_cmInit, m_cmPorts);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">return</span> m_comManagerState.<a class="code" href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">devices</a>.size() != 0;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;}</div><div class="ttc" id="com__manager_8c_html_a8e579189eb6108310736f30327a0cd0b"><div class="ttname"><a href="com__manager_8c.html#a8e579189eb6108310736f30327a0cd0b">comManagerDisableData</a></div><div class="ttdeci">int comManagerDisableData(int pHandle, uint32_t dataId)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l00625">com_manager.c:625</a></div></div>
<div class="ttc" id="structbootload__state__t_html_a727acb2935abfeed2c227314189df4b2"><div class="ttname"><a href="structbootload__state__t.html#a727acb2935abfeed2c227314189df4b2">bootload_state_t::serial</a></div><div class="ttdeci">serial_port_t serial</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00022">InertialSense.cpp:22</a></div></div>
<div class="ttc" id="class_inertial_sense_html_ac5a61c3455a9847b7ba811ed9c1f7451"><div class="ttname"><a href="class_inertial_sense.html#ac5a61c3455a9847b7ba811ed9c1f7451">InertialSense::StopBroadcasts</a></div><div class="ttdeci">void StopBroadcasts(bool allPorts=true)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00605">InertialSense.cpp:605</a></div></div>
<div class="ttc" id="com__manager_8c_html_a750c925ebe5c23deeecd6c3dc47df2c9"><div class="ttname"><a href="com__manager_8c.html#a750c925ebe5c23deeecd6c3dc47df2c9">comManagerSendRawData</a></div><div class="ttdeci">int comManagerSendRawData(int pHandle, uint32_t dataId, void *dataPtr, int dataSize, int dataOffset)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l00601">com_manager.c:601</a></div></div>
<div class="ttc" id="_i_s_utilities_8h_html_a038783cd27cbb54e9c8d8708f147168e"><div class="ttname"><a href="_i_s_utilities_8h.html#a038783cd27cbb54e9c8d8708f147168e">SLEEP_MS</a></div><div class="ttdeci">#define SLEEP_MS(timeMs)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_utilities_8h_source.html#l00143">ISUtilities.h:143</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a9daba15ddabf71cb65625c0dee68b230"><div class="ttname"><a href="class_inertial_sense.html#a9daba15ddabf71cb65625c0dee68b230">InertialSense::SetEvbFlashConfig</a></div><div class="ttdeci">void SetEvbFlashConfig(const evb_flash_cfg_t &amp;evbFlashCfg, int pHandle=0)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00659">InertialSense.cpp:659</a></div></div>
<div class="ttc" id="serial_port_8c_html_ad2240e52502e49f931504565cc1d39d0"><div class="ttname"><a href="serial_port_8c.html#ad2240e52502e49f931504565cc1d39d0">serialPortWrite</a></div><div class="ttdeci">int serialPortWrite(serial_port_t *serialPort, const unsigned char *buffer, int writeCount)</div><div class="ttdef"><b>Definition:</b> <a href="serial_port_8c_source.html#l00201">serialPort.c:201</a></div></div>
<div class="ttc" id="_i_s_comm_8c_html_aff1457c84a0e7071f931930366ea0150"><div class="ttname"><a href="_i_s_comm_8c.html#aff1457c84a0e7071f931930366ea0150">is_comm_init</a></div><div class="ttdeci">void is_comm_init(is_comm_instance_t *instance, uint8_t *buffer, int bufferSize)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8c_source.html#l00213">ISComm.c:213</a></div></div>
<div class="ttc" id="_inertial_sense_8cpp_html_aaabb5477eff7d77a3bef686aec624bb2"><div class="ttname"><a href="_inertial_sense_8cpp.html#aaabb5477eff7d77a3bef686aec624bb2">NUM_ENSURED_PKTS</a></div><div class="ttdeci">#define NUM_ENSURED_PKTS</div></div>
<div class="ttc" id="com__manager_8c_html_a202229d24b4a3d1a7ec9880ec5e309b8"><div class="ttname"><a href="com__manager_8c.html#a202229d24b4a3d1a7ec9880ec5e309b8">comManagerValidateBaudRate</a></div><div class="ttdeci">int comManagerValidateBaudRate(unsigned int baudRate)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l01587">com_manager.c:1587</a></div></div>
<div class="ttc" id="inertial_sense_boot_loader_8c_html_a0fb19b81296391f0e36ba02b0a85d485"><div class="ttname"><a href="inertial_sense_boot_loader_8c.html#a0fb19b81296391f0e36ba02b0a85d485">bootloadFileEx</a></div><div class="ttdeci">int bootloadFileEx(bootload_params_t *params)</div><div class="ttdef"><b>Definition:</b> <a href="inertial_sense_boot_loader_8c_source.html#l01498">inertialSenseBootLoader.c:1498</a></div></div>
<div class="ttc" id="class_inertial_sense_html_abb6f052b9425dd24bd82224fe0e1cfa8"><div class="ttname"><a href="class_inertial_sense.html#abb6f052b9425dd24bd82224fe0e1cfa8">InertialSense::SendRawData</a></div><div class="ttdeci">void SendRawData(eDataIDs dataId, uint8_t *data, uint32_t length=0, uint32_t offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00626">InertialSense.cpp:626</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a3b5a9e3f7cb22df9ff9cf59558c1a3c2"><div class="ttname"><a href="class_inertial_sense.html#a3b5a9e3f7cb22df9ff9cf59558c1a3c2">InertialSense::Open</a></div><div class="ttdeci">bool Open(const char *port, int baudRate=IS_COM_BAUDRATE_DEFAULT, bool disableBroadcastsOnClose=false)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00270">InertialSense.cpp:270</a></div></div>
<div class="ttc" id="structcom__manager__init__t_html_aaa672a3048326245bb3d6bb077279da9"><div class="ttname"><a href="structcom__manager__init__t.html#aaa672a3048326245bb3d6bb077279da9">com_manager_init_t::ensuredPackets</a></div><div class="ttdeci">ensured_pkt_t * ensuredPackets</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00105">com_manager.h:105</a></div></div>
<div class="ttc" id="classc_i_s_stream_html_ab96ca66e9b6ae8ac150f1a48f49dc119"><div class="ttname"><a href="classc_i_s_stream.html#ab96ca66e9b6ae8ac150f1a48f49dc119">cISStream::Write</a></div><div class="ttdeci">virtual int Write(const void *buffer, int count)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_stream_8h_source.html#l00052">ISStream.h:52</a></div></div>
<div class="ttc" id="_i_s_utilities_8cpp_html_af86294fec13e0223d1b36a2b4e57b61f"><div class="ttname"><a href="_i_s_utilities_8cpp.html#af86294fec13e0223d1b36a2b4e57b61f">threadCreateAndStart</a></div><div class="ttdeci">void * threadCreateAndStart(void(*function)(void *info), void *info)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_utilities_8cpp_source.html#l00491">ISUtilities.cpp:491</a></div></div>
<div class="ttc" id="message__stats_8cpp_html_a5d358ee7d552881c578e4badf6d74d0a"><div class="ttname"><a href="message__stats_8cpp.html#a5d358ee7d552881c578e4badf6d74d0a">messageStatsAppend</a></div><div class="ttdeci">void messageStatsAppend(string message, mul_msg_stats_t &amp;msgStats, unsigned int ptype, int id, int timeMs)</div><div class="ttdef"><b>Definition:</b> <a href="message__stats_8cpp_source.html#l00110">message_stats.cpp:110</a></div></div>
<div class="ttc" id="structp__data__hdr__t_html_a0a70811dba0872fe68a2d58c24cb7894"><div class="ttname"><a href="structp__data__hdr__t.html#a0a70811dba0872fe68a2d58c24cb7894">p_data_hdr_t::id</a></div><div class="ttdeci">uint32_t id</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00379">ISComm.h:379</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a73d4f861a31cb73d2b5d7610b653711e"><div class="ttname"><a href="class_inertial_sense.html#a73d4f861a31cb73d2b5d7610b653711e">InertialSense::GetDeviceCount</a></div><div class="ttdeci">size_t GetDeviceCount()</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00376">InertialSense.cpp:376</a></div></div>
<div class="ttc" id="classc_i_s_logger_html_a1d8dabae55d4395940b6169ac6235fb8"><div class="ttname"><a href="classc_i_s_logger.html#a1d8dabae55d4395940b6169ac6235fb8">cISLogger::eLogType</a></div><div class="ttdeci">eLogType</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_logger_8h_source.html#l00052">ISLogger.h:52</a></div></div>
<div class="ttc" id="structp__data__hdr__t_html_ae4e77713f907776d843284114634d642"><div class="ttname"><a href="structp__data__hdr__t.html#ae4e77713f907776d843284114634d642">p_data_hdr_t::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00382">ISComm.h:382</a></div></div>
<div class="ttc" id="structensured__pkt__t_html"><div class="ttname"><a href="structensured__pkt__t.html">ensured_pkt_t</a></div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00061">com_manager.h:61</a></div></div>
<div class="ttc" id="structcom__manager__init__t_html_a0dab24aaebe54612e9d4d02cabaa4503"><div class="ttname"><a href="structcom__manager__init__t.html#a0dab24aaebe54612e9d4d02cabaa4503">com_manager_init_t::broadcastMsg</a></div><div class="ttdeci">broadcast_msg_t * broadcastMsg</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00102">com_manager.h:102</a></div></div>
<div class="ttc" id="classc_i_s_serial_port_html_ac332a98cc9c6242b35aa56fa7c32e428"><div class="ttname"><a href="classc_i_s_serial_port.html#ac332a98cc9c6242b35aa56fa7c32e428">cISSerialPort::Close</a></div><div class="ttdeci">int Close() OVERRIDE</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_serial_port_8cpp_source.html#l00042">ISSerialPort.cpp:42</a></div></div>
<div class="ttc" id="structevb__flash__cfg__t_html"><div class="ttname"><a href="structevb__flash__cfg__t.html">evb_flash_cfg_t</a></div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l03407">data_sets.h:3407</a></div></div>
<div class="ttc" id="classc_i_s_tcp_server_html_aac4d54da90e343a68ab167afbe500cae"><div class="ttname"><a href="classc_i_s_tcp_server.html#aac4d54da90e343a68ab167afbe500cae">cISTcpServer::Open</a></div><div class="ttdeci">int Open(const string &amp;ipAddress, int port)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_tcp_server_8cpp_source.html#l00045">ISTcpServer.cpp:45</a></div></div>
<div class="ttc" id="_i_s_comm_8h_html_a932bee6e7c2e702a8cce14cfd728ba92a9a0e8c7b3cb0a61f2101c5b1a9540167"><div class="ttname"><a href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a9a0e8c7b3cb0a61f2101c5b1a9540167">_PTYPE_INERTIAL_SENSE_CMD</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00080">ISComm.h:80</a></div></div>
<div class="ttc" id="_i_s_constants_8h_html_a3ef7eab8cd0e570b6586628cc9d5ccab"><div class="ttname"><a href="_i_s_constants_8h.html#a3ef7eab8cd0e570b6586628cc9d5ccab">NULLPTR</a></div><div class="ttdeci">#define NULLPTR</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_constants_8h_source.html#l00422">ISConstants.h:422</a></div></div>
<div class="ttc" id="struct_inertial_sense_1_1com__manager__cpp__state__t_html_a9e8a137f5ff3a70bf747ecf0655bcd65"><div class="ttname"><a href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a9e8a137f5ff3a70bf747ecf0655bcd65">InertialSense::com_manager_cpp_state_t::stepLogFunction</a></div><div class="ttdeci">pfnStepLogFunction stepLogFunction</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00087">InertialSense.h:87</a></div></div>
<div class="ttc" id="struct_inertial_sense_1_1com__manager__cpp__state__t_html_ab738445390c2608a517d0769bc31c86b"><div class="ttname"><a href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ab738445390c2608a517d0769bc31c86b">InertialSense::com_manager_cpp_state_t::clientBufferSize</a></div><div class="ttdeci">int clientBufferSize</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00090">InertialSense.h:90</a></div></div>
<div class="ttc" id="classc_i_s_client_html_afe42618628bb5df3855bbe65d59d8a40"><div class="ttname"><a href="classc_i_s_client.html#afe42618628bb5df3855bbe65d59d8a40">cISClient::OpenConnectionToServer</a></div><div class="ttdeci">static cISStream * OpenConnectionToServer(const std::string &amp;connectionString, bool *enableGpggaForwarding=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_client_8cpp_source.html#l00023">ISClient.cpp:23</a></div></div>
<div class="ttc" id="_i_s_comm_8h_html_a932bee6e7c2e702a8cce14cfd728ba92"><div class="ttname"><a href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92">protocol_type_t</a></div><div class="ttdeci">protocol_type_t</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00075">ISComm.h:75</a></div></div>
<div class="ttc" id="data__sets_8h_html_a5ad06fc2f66d620d031065c8dc711904"><div class="ttname"><a href="data__sets_8h.html#a5ad06fc2f66d620d031065c8dc711904">DID_DEV_INFO</a></div><div class="ttdeci">#define DID_DEV_INFO</div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l00035">data_sets.h:35</a></div></div>
<div class="ttc" id="classc_i_s_logger_html_a5893f6add9cb8f827ba3877171dbc475"><div class="ttname"><a href="classc_i_s_logger.html#a5893f6add9cb8f827ba3877171dbc475">cISLogger::LogData</a></div><div class="ttdeci">bool LogData(unsigned int device, p_data_hdr_t *dataHdr, const uint8_t *dataBuf)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_logger_8cpp_source.html#l00361">ISLogger.cpp:361</a></div></div>
<div class="ttc" id="struct_p_a_c_k_e_d_html_ab41d8d9020ee7438142779e6ddb7147e"><div class="ttname"><a href="struct_p_a_c_k_e_d.html#ab41d8d9020ee7438142779e6ddb7147e">PACKED::status</a></div><div class="ttdeci">uint32_t status</div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l00644">data_sets.h:644</a></div></div>
<div class="ttc" id="classc_i_s_tcp_server_html_aedfc523b93548c96cb7655d603a60ed3"><div class="ttname"><a href="classc_i_s_tcp_server.html#aedfc523b93548c96cb7655d603a60ed3">cISTcpServer::Close</a></div><div class="ttdeci">int Close()</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_tcp_server_8cpp_source.html#l00112">ISTcpServer.cpp:112</a></div></div>
<div class="ttc" id="data__sets_8h_html_a9fcc2d0ede852d5c2f024fbffd476c6e"><div class="ttname"><a href="data__sets_8h.html#a9fcc2d0ede852d5c2f024fbffd476c6e">eDataIDs</a></div><div class="ttdeci">uint32_t eDataIDs</div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l00032">data_sets.h:32</a></div></div>
<div class="ttc" id="_inertial_sense_8h_html"><div class="ttname"><a href="_inertial_sense_8h.html">InertialSense.h</a></div></div>
<div class="ttc" id="structbootload__state__t_html"><div class="ttname"><a href="structbootload__state__t.html">bootload_state_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00018">InertialSense.cpp:18</a></div></div>
<div class="ttc" id="structbootload__params__t_html"><div class="ttname"><a href="structbootload__params__t.html">bootload_params_t</a></div><div class="ttdef"><b>Definition:</b> <a href="inertial_sense_boot_loader_8h_source.html#l00053">inertialSenseBootLoader.h:53</a></div></div>
<div class="ttc" id="class_inertial_sense_html_ab3c49f0986bdb06367a72d641dec0ecf"><div class="ttname"><a href="class_inertial_sense.html#ab3c49f0986bdb06367a72d641dec0ecf">InertialSense::InertialSense</a></div><div class="ttdeci">InertialSense(pfnHandleBinaryData callback=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00113">InertialSense.cpp:113</a></div></div>
<div class="ttc" id="classc_i_s_tcp_server_html_a0407d47a3a0f522e09f088d4a20e469b"><div class="ttname"><a href="classc_i_s_tcp_server.html#a0407d47a3a0f522e09f088d4a20e469b">cISTcpServer::Update</a></div><div class="ttdeci">void Update()</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_tcp_server_8cpp_source.html#l00123">ISTcpServer.cpp:123</a></div></div>
<div class="ttc" id="_i_s_comm_8h_html_a932bee6e7c2e702a8cce14cfd728ba92a47030cef4455d88b0d81f625fd34f3fc"><div class="ttname"><a href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a47030cef4455d88b0d81f625fd34f3fc">_PTYPE_PARSE_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00078">ISComm.h:78</a></div></div>
<div class="ttc" id="structbroadcast__msg__t_html"><div class="ttname"><a href="structbroadcast__msg__t.html">broadcast_msg_t</a></div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00043">com_manager.h:43</a></div></div>
<div class="ttc" id="serial_port_8c_html_adf63e1ee60b5ec17eec7fe5b8d42fc1c"><div class="ttname"><a href="serial_port_8c.html#adf63e1ee60b5ec17eec7fe5b8d42fc1c">serialPortSetPort</a></div><div class="ttdeci">void serialPortSetPort(serial_port_t *serialPort, const char *port)</div><div class="ttdef"><b>Definition:</b> <a href="serial_port_8c_source.html#l00018">serialPort.c:18</a></div></div>
<div class="ttc" id="com__manager_8c_html_a5153eef615e1ad8cd2025156d1be51d7"><div class="ttname"><a href="com__manager_8c.html#a5153eef615e1ad8cd2025156d1be51d7">comManagerStep</a></div><div class="ttdeci">void comManagerStep(void)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l00281">com_manager.c:281</a></div></div>
<div class="ttc" id="inertial_sense_boot_loader_8h_html_ab22aca14c8a64bf08273664ce796c2d5"><div class="ttname"><a href="inertial_sense_boot_loader_8h.html#ab22aca14c8a64bf08273664ce796c2d5">BOOTLOADER_ERROR_LENGTH</a></div><div class="ttdeci">#define BOOTLOADER_ERROR_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="inertial_sense_boot_loader_8h_source.html#l00044">inertialSenseBootLoader.h:44</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a5ddce25f9f831619ad585c6ac7a2ba66"><div class="ttname"><a href="class_inertial_sense.html#a5ddce25f9f831619ad585c6ac7a2ba66">InertialSense::BroadcastBinaryDataRmcPreset</a></div><div class="ttdeci">void BroadcastBinaryDataRmcPreset(uint64_t rmcPreset=RMC_PRESET_INS_BITS, uint32_t rmcOptions=0)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00702">InertialSense.cpp:702</a></div></div>
<div class="ttc" id="inertial_sense_boot_loader_8h_html_af3960f600015ba067228d38c25f178f0"><div class="ttname"><a href="inertial_sense_boot_loader_8h.html#af3960f600015ba067228d38c25f178f0">pfnBootloadProgress</a></div><div class="ttdeci">int(* pfnBootloadProgress)(const void *obj, float percent)</div><div class="ttdef"><b>Definition:</b> <a href="inertial_sense_boot_loader_8h_source.html#l00048">inertialSenseBootLoader.h:48</a></div></div>
<div class="ttc" id="class_inertial_sense_html"><div class="ttname"><a href="class_inertial_sense.html">InertialSense</a></div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00067">InertialSense.h:67</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a7f2f9b60a912bb26f90c1e68c8afd630"><div class="ttname"><a href="class_inertial_sense.html#a7f2f9b60a912bb26f90c1e68c8afd630">InertialSense::SetSysCmd</a></div><div class="ttdeci">void SetSysCmd(const system_command_t &amp;sysCmd, int pHandle=0)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00634">InertialSense.cpp:634</a></div></div>
<div class="ttc" id="serial_port_8c_html_a25ebaeafcc060a447ec1a38a8085943d"><div class="ttname"><a href="serial_port_8c.html#a25ebaeafcc060a447ec1a38a8085943d">serialPortClose</a></div><div class="ttdeci">int serialPortClose(serial_port_t *serialPort)</div><div class="ttdef"><b>Definition:</b> <a href="serial_port_8c_source.html#l00066">serialPort.c:66</a></div></div>
<div class="ttc" id="com__manager_8h_html_a94b57baf71498218c44b4d81e3e3f0a0"><div class="ttname"><a href="com__manager_8h.html#a94b57baf71498218c44b4d81e3e3f0a0">COM_MANAGER_BUF_SIZE_BCAST_MSG</a></div><div class="ttdeci">#define COM_MANAGER_BUF_SIZE_BCAST_MSG(max_num_bcast_msgs)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00115">com_manager.h:115</a></div></div>
<div class="ttc" id="_i_s_utilities_8cpp_html_a37c726e89f1159850ad51105b569a696"><div class="ttname"><a href="_i_s_utilities_8cpp.html#a37c726e89f1159850ad51105b569a696">current_timeMs</a></div><div class="ttdeci">unsigned int current_timeMs()</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_utilities_8cpp_source.html#l00230">ISUtilities.cpp:230</a></div></div>
<div class="ttc" id="structis__comm__instance__t_html_af4797293c9ba54891399bd0c92ad10f5"><div class="ttname"><a href="structis__comm__instance__t.html#af4797293c9ba54891399bd0c92ad10f5">is_comm_instance_t::buf</a></div><div class="ttdeci">is_comm_buffer_t buf</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00492">ISComm.h:492</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a785cc4fccb160ead6fbc7cf39da924df"><div class="ttname"><a href="class_inertial_sense.html#a785cc4fccb160ead6fbc7cf39da924df">InertialSense::~InertialSense</a></div><div class="ttdeci">virtual ~InertialSense()</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00134">InertialSense.cpp:134</a></div></div>
<div class="ttc" id="classc_i_s_logger_html_aae12567eb73514a2e28fe3807956854c"><div class="ttname"><a href="classc_i_s_logger.html#aae12567eb73514a2e28fe3807956854c">cISLogger::Update</a></div><div class="ttdeci">void Update()</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_logger_8cpp_source.html#l00105">ISLogger.cpp:105</a></div></div>
<div class="ttc" id="serial_port_8c_html_a7426c48831273ec45889f652623d00df"><div class="ttname"><a href="serial_port_8c.html#a7426c48831273ec45889f652623d00df">serialPortReadTimeout</a></div><div class="ttdeci">int serialPortReadTimeout(serial_port_t *serialPort, unsigned char *buffer, int readCount, int timeoutMilliseconds)</div><div class="ttdef"><b>Definition:</b> <a href="serial_port_8c_source.html#l00089">serialPort.c:89</a></div></div>
<div class="ttc" id="struct_inertial_sense_1_1com__manager__cpp__state__t_html_a803497b25cbb0de9ac434eb32e8be346"><div class="ttname"><a href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a803497b25cbb0de9ac434eb32e8be346">InertialSense::com_manager_cpp_state_t::clientBuffer</a></div><div class="ttdeci">char * clientBuffer</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00089">InertialSense.h:89</a></div></div>
<div class="ttc" id="_i_s_comm_8c_html_a9668d16e885b5b012da0f9cc8478df22"><div class="ttname"><a href="_i_s_comm_8c.html#a9668d16e885b5b012da0f9cc8478df22">is_comm_free</a></div><div class="ttdeci">int is_comm_free(is_comm_instance_t *instance)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8c_source.html#l00499">ISComm.c:499</a></div></div>
<div class="ttc" id="classc_i_s_stream_html_a1dbc8dbb611dc06573fce0bf15259adb"><div class="ttname"><a href="classc_i_s_stream.html#a1dbc8dbb611dc06573fce0bf15259adb">cISStream::Read</a></div><div class="ttdeci">virtual int Read(void *buffer, int count)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_stream_8h_source.html#l00044">ISStream.h:44</a></div></div>
<div class="ttc" id="classc_i_s_logger_html_a477e17db2c480bc21837f875db278093"><div class="ttname"><a href="classc_i_s_logger.html#a477e17db2c480bc21837f875db278093">cISLogger::SetDeviceInfo</a></div><div class="ttdeci">bool SetDeviceInfo(const dev_info_t *info, unsigned int device=0)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_logger_8cpp_source.html#l00546">ISLogger.cpp:546</a></div></div>
<div class="ttc" id="data__sets_8h_html_a34433a6f8530254b5e16a4401e48ad75"><div class="ttname"><a href="data__sets_8h.html#a34433a6f8530254b5e16a4401e48ad75">DID_SYS_CMD</a></div><div class="ttdeci">#define DID_SYS_CMD</div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l00041">data_sets.h:41</a></div></div>
<div class="ttc" id="class_inertial_sense_html_aa1d37d7574e1a5466ac75d26d4eaaf2a"><div class="ttname"><a href="class_inertial_sense.html#aa1d37d7574e1a5466ac75d26d4eaaf2a">InertialSense::GetPorts</a></div><div class="ttdeci">vector&lt; string &gt; GetPorts()</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00595">InertialSense.cpp:595</a></div></div>
<div class="ttc" id="struct_inertial_sense_1_1com__manager__cpp__state__t_html_a84d9ae16a0c182d96c5c67b1e51d8cce"><div class="ttname"><a href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#a84d9ae16a0c182d96c5c67b1e51d8cce">InertialSense::com_manager_cpp_state_t::binaryCallback</a></div><div class="ttdeci">pfnHandleBinaryData binaryCallback[256]</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00086">InertialSense.h:86</a></div></div>
<div class="ttc" id="struct_inertial_sense_1_1com__manager__cpp__state__t_html_ae597781a0e75787be54a08676f5007ef"><div class="ttname"><a href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#ae597781a0e75787be54a08676f5007ef">InertialSense::com_manager_cpp_state_t::devices</a></div><div class="ttdeci">vector&lt; is_device_t &gt; devices</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00082">InertialSense.h:82</a></div></div>
<div class="ttc" id="classc_i_s_tcp_server_html_adda8d8b08ca0ac887be66f6e4572e6e4"><div class="ttname"><a href="classc_i_s_tcp_server.html#adda8d8b08ca0ac887be66f6e4572e6e4">cISTcpServer::Write</a></div><div class="ttdeci">int Write(const uint8_t *data, int dataLength)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_tcp_server_8cpp_source.html#l00173">ISTcpServer.cpp:173</a></div></div>
<div class="ttc" id="com__manager_8h_html_aa4c7b70d216e3ec5adc54f13afc5ffde"><div class="ttname"><a href="com__manager_8h.html#aa4c7b70d216e3ec5adc54f13afc5ffde">CMHANDLE</a></div><div class="ttdeci">void * CMHANDLE</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00119">com_manager.h:119</a></div></div>
<div class="ttc" id="data__sets_8h_html_a8fef46b9aa13b2342a66e71e72443713"><div class="ttname"><a href="data__sets_8h.html#a8fef46b9aa13b2342a66e71e72443713">DID_FLASH_CONFIG</a></div><div class="ttdeci">#define DID_FLASH_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l00046">data_sets.h:46</a></div></div>
<div class="ttc" id="struct_inertial_sense_1_1com__manager__cpp__state__t_html_af8bd2d3e0d91808c92a4a36f98f944c3"><div class="ttname"><a href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#af8bd2d3e0d91808c92a4a36f98f944c3">InertialSense::com_manager_cpp_state_t::binaryCallbackGlobal</a></div><div class="ttdeci">pfnHandleBinaryData binaryCallbackGlobal</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00085">InertialSense.h:85</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a8424b712a21c24279c1338adbb97fcdd"><div class="ttname"><a href="class_inertial_sense.html#a8424b712a21c24279c1338adbb97fcdd">InertialSense::CreateHost</a></div><div class="ttdeci">bool CreateHost(const string &amp;connectionString)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00340">InertialSense.cpp:340</a></div></div>
<div class="ttc" id="structcom__manager__init__t_html_a3b5094d1031463ea2d16492f62416a0b"><div class="ttname"><a href="structcom__manager__init__t.html#a3b5094d1031463ea2d16492f62416a0b">com_manager_init_t::broadcastMsgSize</a></div><div class="ttdeci">uint32_t broadcastMsgSize</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00103">com_manager.h:103</a></div></div>
<div class="ttc" id="_i_s_comm_8h_html_a932bee6e7c2e702a8cce14cfd728ba92aadc2747a94a51184d91a12b0cec74590"><div class="ttname"><a href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92aadc2747a94a51184d91a12b0cec74590">_PTYPE_ASCII_NMEA</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00082">ISComm.h:82</a></div></div>
<div class="ttc" id="classc_i_s_serial_port_html_ab9db3ea68b2737f399a4ea5903f3b23f"><div class="ttname"><a href="classc_i_s_serial_port.html#ab9db3ea68b2737f399a4ea5903f3b23f">cISSerialPort::GetComPorts</a></div><div class="ttdeci">static void GetComPorts(vector&lt; string &gt; &amp;ports)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_serial_port_8cpp_source.html#l00057">ISSerialPort.cpp:57</a></div></div>
<div class="ttc" id="_i_s_comm_8h_html_a932bee6e7c2e702a8cce14cfd728ba92a0cb31e2b793b68365c81093c80c66d8f"><div class="ttname"><a href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a0cb31e2b793b68365c81093c80c66d8f">_PTYPE_RTCM3</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00084">ISComm.h:84</a></div></div>
<div class="ttc" id="class_inertial_sense_html_af7416c1ee74da66cbcfb77629dac57c5"><div class="ttname"><a href="class_inertial_sense.html#af7416c1ee74da66cbcfb77629dac57c5">InertialSense::SendData</a></div><div class="ttdeci">void SendData(eDataIDs dataId, uint8_t *data, uint32_t length, uint32_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00617">InertialSense.cpp:617</a></div></div>
<div class="ttc" id="classc_i_s_logger_html_ae2cbba0b74baf66370613e72d99215b3"><div class="ttname"><a href="classc_i_s_logger.html#ae2cbba0b74baf66370613e72d99215b3">cISLogger::InitSaveTimestamp</a></div><div class="ttdeci">bool InitSaveTimestamp(const string &amp;timeStamp, const string &amp;directory=g_emptyString, const string &amp;subDirectory=g_emptyString, int numDevices=1, eLogType logType=LOGTYPE_DAT, float maxDiskSpacePercent=0.5f, uint32_t maxFileSize=1024 *1024 *5, bool useSubFolderTimestamp=true)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_logger_8cpp_source.html#l00213">ISLogger.cpp:213</a></div></div>
<div class="ttc" id="structp__data__t_html_ad581435f6761781c248158d69ca502f9"><div class="ttname"><a href="structp__data__t.html#ad581435f6761781c248158d69ca502f9">p_data_t::hdr</a></div><div class="ttdeci">p_data_hdr_t hdr</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00392">ISComm.h:392</a></div></div>
<div class="ttc" id="structis__comm__buffer__t_html_a0952f2e0f4c2a342b1dbcd5c0c2ce4f6"><div class="ttname"><a href="structis__comm__buffer__t.html#a0952f2e0f4c2a342b1dbcd5c0c2ce4f6">is_comm_buffer_t::tail</a></div><div class="ttdeci">uint8_t * tail</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00463">ISComm.h:463</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a74e73c287e795c9556b399be22432870"><div class="ttname"><a href="class_inertial_sense.html#a74e73c287e795c9556b399be22432870">InertialSense::SetFlashConfig</a></div><div class="ttdeci">void SetFlashConfig(const nvm_flash_cfg_t &amp;flashCfg, int pHandle=0)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00646">InertialSense.cpp:646</a></div></div>
<div class="ttc" id="structserial__port__t_html"><div class="ttname"><a href="structserial__port__t.html">serial_port_t</a></div><div class="ttdef"><b>Definition:</b> <a href="serial_port_8h_source.html#l00064">serialPort.h:64</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a73a675fd832f7579cd790de41f40f5fe"><div class="ttname"><a href="class_inertial_sense.html#a73a675fd832f7579cd790de41f40f5fe">InertialSense::CloseServerConnection</a></div><div class="ttdeci">void CloseServerConnection()</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00327">InertialSense.cpp:327</a></div></div>
<div class="ttc" id="classc_i_s_tcp_server_html"><div class="ttname"><a href="classc_i_s_tcp_server.html">cISTcpServer</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_tcp_server_8h_source.html#l00087">ISTcpServer.h:87</a></div></div>
<div class="ttc" id="message__stats_8cpp_html_a78030aa3ee0d9e2490a899fbdf8b0fd2"><div class="ttname"><a href="message__stats_8cpp.html#a78030aa3ee0d9e2490a899fbdf8b0fd2">messageStatsGetbitu</a></div><div class="ttdeci">unsigned int messageStatsGetbitu(const unsigned char *buff, int pos, int len)</div><div class="ttdef"><b>Definition:</b> <a href="message__stats_8cpp_source.html#l00087">message_stats.cpp:87</a></div></div>
<div class="ttc" id="structbootload__state__t_html_a15cdcb5306b9c1662377aedbba143311"><div class="ttname"><a href="structbootload__state__t.html#a15cdcb5306b9c1662377aedbba143311">bootload_state_t::success</a></div><div class="ttdeci">bool success</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00021">InertialSense.cpp:21</a></div></div>
<div class="ttc" id="classc_i_s_tcp_server_html_a72a04c0901f3789020cbebafeb487cad"><div class="ttname"><a href="classc_i_s_tcp_server.html#a72a04c0901f3789020cbebafeb487cad">cISTcpServer::IsOpen</a></div><div class="ttdeci">bool IsOpen()</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_tcp_server_8h_source.html#l00131">ISTcpServer.h:131</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a14816a23373f073abdf09ef4ff5cad26"><div class="ttname"><a href="class_inertial_sense.html#a14816a23373f073abdf09ef4ff5cad26">InertialSense::OnClientConnected</a></div><div class="ttdeci">void OnClientConnected(cISTcpServer *server, socket_t socket) OVERRIDE</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00806">InertialSense.cpp:806</a></div></div>
<div class="ttc" id="structcom__manager__port__t_html"><div class="ttname"><a href="structcom__manager__port__t.html">com_manager_port_t</a></div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00171">com_manager.h:171</a></div></div>
<div class="ttc" id="data__sets_8h_html_ae6d4500b717d1fde25cfaf3caf0c0108a2717bdaf2658e7cd21218a20e1640dd3"><div class="ttname"><a href="data__sets_8h.html#ae6d4500b717d1fde25cfaf3caf0c0108a2717bdaf2658e7cd21218a20e1640dd3">GPS_STATUS_FIX_MASK</a></div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l00391">data_sets.h:391</a></div></div>
<div class="ttc" id="_i_s_comm_8h_html_a932bee6e7c2e702a8cce14cfd728ba92a7a2019d0fee2fc6678a16f736488b4ca"><div class="ttname"><a href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a7a2019d0fee2fc6678a16f736488b4ca">_PTYPE_INERTIAL_SENSE_DATA</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00079">ISComm.h:79</a></div></div>
<div class="ttc" id="com__manager_8c_html_a5a99656c76c4e36420c61a9887081286"><div class="ttname"><a href="com__manager_8c.html#a5a99656c76c4e36420c61a9887081286">comManagerAssignUserPointer</a></div><div class="ttdeci">void comManagerAssignUserPointer(CMHANDLE cmInstance, void *userPointer)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l00477">com_manager.c:477</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a8effe3d6e6b05ca285ef413a85223e09"><div class="ttname"><a href="class_inertial_sense.html#a8effe3d6e6b05ca285ef413a85223e09">InertialSense::IsOpen</a></div><div class="ttdeci">bool IsOpen()</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00371">InertialSense.cpp:371</a></div></div>
<div class="ttc" id="_i_s_utilities_8cpp_html_acc154ee31d8e7cb1bd9f21069160bd9d"><div class="ttname"><a href="_i_s_utilities_8cpp.html#acc154ee31d8e7cb1bd9f21069160bd9d">splitString</a></div><div class="ttdeci">size_t splitString(const string &amp;str, const char delimiter, vector&lt; string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_utilities_8cpp_source.html#l00158">ISUtilities.cpp:158</a></div></div>
<div class="ttc" id="data__sets_8h_html_a7c9fb16bbb2b3eac21c6c10aedcc4eba"><div class="ttname"><a href="data__sets_8h.html#a7c9fb16bbb2b3eac21c6c10aedcc4eba">DID_EVB_FLASH_CFG</a></div><div class="ttdeci">#define DID_EVB_FLASH_CFG</div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l00116">data_sets.h:116</a></div></div>
<div class="ttc" id="serial_port_8c_html_a1a70fde2df9b4376c6790e67a772a5ef"><div class="ttname"><a href="serial_port_8c.html#a1a70fde2df9b4376c6790e67a772a5ef">serialPortIsOpen</a></div><div class="ttdeci">int serialPortIsOpen(serial_port_t *serialPort)</div><div class="ttdef"><b>Definition:</b> <a href="serial_port_8c_source.html#l00057">serialPort.c:57</a></div></div>
<div class="ttc" id="data__sets_8h_html_a9a312779fc3753d715cd9c12e817b3fb"><div class="ttname"><a href="data__sets_8h.html#a9a312779fc3753d715cd9c12e817b3fb">DID_GPS1_POS</a></div><div class="ttdeci">#define DID_GPS1_POS</div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l00047">data_sets.h:47</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a8f375c416f8b8fc007de5053e45f5e5b"><div class="ttname"><a href="class_inertial_sense.html#a8f375c416f8b8fc007de5053e45f5e5b">InertialSense::Update</a></div><div class="ttdeci">bool Update()</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00381">InertialSense.cpp:381</a></div></div>
<div class="ttc" id="classc_i_s_logger_html_a8a9af6e58d2c286d2a9f382c72e25a96"><div class="ttname"><a href="classc_i_s_logger.html#a8a9af6e58d2c286d2a9f382c72e25a96">cISLogger::g_emptyString</a></div><div class="ttdeci">static const string g_emptyString</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_logger_8h_source.html#l00061">ISLogger.h:61</a></div></div>
<div class="ttc" id="com__manager_8h_html_aa0545344d4561b3d4aa1a603e7f634bb"><div class="ttname"><a href="com__manager_8h.html#aa0545344d4561b3d4aa1a603e7f634bb">COM_MANAGER_BUF_SIZE_ENSURED_PKTS</a></div><div class="ttdeci">#define COM_MANAGER_BUF_SIZE_ENSURED_PKTS(max_num_ensured_pkts)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00116">com_manager.h:116</a></div></div>
<div class="ttc" id="com__manager_8h_html_a08d1326bfd508f5c35f3a8853488ad04"><div class="ttname"><a href="com__manager_8h.html#a08d1326bfd508f5c35f3a8853488ad04">MAX_NUM_BCAST_MSGS</a></div><div class="ttdeci">#define MAX_NUM_BCAST_MSGS</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00112">com_manager.h:112</a></div></div>
<div class="ttc" id="classc_i_s_logger_html_a593b23332a2fcd5b491456e15c0816f0"><div class="ttname"><a href="classc_i_s_logger.html#a593b23332a2fcd5b491456e15c0816f0">cISLogger::Enabled</a></div><div class="ttdeci">bool Enabled()</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_logger_8h_source.html#l00079">ISLogger.h:79</a></div></div>
<div class="ttc" id="data__sets_8h_html_ae6d4500b717d1fde25cfaf3caf0c0108a2245cf53633de291f659b1286959d96c"><div class="ttname"><a href="data__sets_8h.html#ae6d4500b717d1fde25cfaf3caf0c0108a2245cf53633de291f659b1286959d96c">GPS_STATUS_FIX_3D</a></div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l00381">data_sets.h:381</a></div></div>
<div class="ttc" id="structis__comm__instance__t_html_ac30f7aaf495c4654169ccd8a7aa7060d"><div class="ttname"><a href="structis__comm__instance__t.html#ac30f7aaf495c4654169ccd8a7aa7060d">is_comm_instance_t::dataHdr</a></div><div class="ttdeci">p_data_hdr_t dataHdr</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00510">ISComm.h:510</a></div></div>
<div class="ttc" id="_i_s_comm_8h_html_a932bee6e7c2e702a8cce14cfd728ba92ae69f248f76f2905c0fabf5b94f8ca99e"><div class="ttname"><a href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92ae69f248f76f2905c0fabf5b94f8ca99e">_PTYPE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00077">ISComm.h:77</a></div></div>
<div class="ttc" id="_i_s_comm_8h_html_a932bee6e7c2e702a8cce14cfd728ba92a500b3fb138df17ec2dbdcbe35ee8aa7c"><div class="ttname"><a href="_i_s_comm_8h.html#a932bee6e7c2e702a8cce14cfd728ba92a500b3fb138df17ec2dbdcbe35ee8aa7c">_PTYPE_UBLOX</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00083">ISComm.h:83</a></div></div>
<div class="ttc" id="structp__data__t_html"><div class="ttname"><a href="structp__data__t.html">p_data_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00389">ISComm.h:389</a></div></div>
<div class="ttc" id="protocol__nmea_8cpp_html_a74ca1b4fa09b89b0c7342d376991c163"><div class="ttname"><a href="protocol__nmea_8cpp.html#a74ca1b4fa09b89b0c7342d376991c163">gps_to_nmea_gga</a></div><div class="ttdeci">int gps_to_nmea_gga(char a[], const int aSize, gps_pos_t &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="protocol__nmea_8cpp_source.html#l00373">protocol_nmea.cpp:373</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a08aa8dd64db81fe35415a08435349318"><div class="ttname"><a href="class_inertial_sense.html#a08aa8dd64db81fe35415a08435349318">InertialSense::Close</a></div><div class="ttdeci">void Close()</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00579">InertialSense.cpp:579</a></div></div>
<div class="ttc" id="class_inertial_sense_html_ad55ff70e5c606085075e60d7a32b7159"><div class="ttname"><a href="class_inertial_sense.html#ad55ff70e5c606085075e60d7a32b7159">InertialSense::OnClientConnecting</a></div><div class="ttdeci">void OnClientConnecting(cISTcpServer *server) OVERRIDE</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00800">InertialSense.cpp:800</a></div></div>
<div class="ttc" id="classc_i_s_logger_html_ad4d651b3fbaf5ece85a0f762a0f7f215"><div class="ttname"><a href="classc_i_s_logger.html#ad4d651b3fbaf5ece85a0f762a0f7f215">cISLogger::EnableLogging</a></div><div class="ttdeci">void EnableLogging(bool enabled)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_logger_8h_source.html#l00078">ISLogger.h:78</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a417a7cb6a3805f74a48e09795f8bac1b"><div class="ttname"><a href="class_inertial_sense.html#a417a7cb6a3805f74a48e09795f8bac1b">InertialSense::BroadcastBinaryData</a></div><div class="ttdeci">bool BroadcastBinaryData(uint32_t dataId, int periodMultiple, pfnHandleBinaryData callback=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00672">InertialSense.cpp:672</a></div></div>
<div class="ttc" id="inertial_sense_boot_loader_8h_html_a871ef77795d0f1bfb333352cb3bdfb8f"><div class="ttname"><a href="inertial_sense_boot_loader_8h.html#a871ef77795d0f1bfb333352cb3bdfb8f">pfnBootloadStatus</a></div><div class="ttdeci">void(* pfnBootloadStatus)(const void *obj, const char *infoString)</div><div class="ttdef"><b>Definition:</b> <a href="inertial_sense_boot_loader_8h_source.html#l00051">inertialSenseBootLoader.h:51</a></div></div>
<div class="ttc" id="com__manager_8c_html_aae55430658079aefb707533cd58c5f5a"><div class="ttname"><a href="com__manager_8c.html#aae55430658079aefb707533cd58c5f5a">comManagerGetDataRmc</a></div><div class="ttdeci">void comManagerGetDataRmc(int pHandle, uint64_t rmcBits, uint32_t rmcOptions)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l00539">com_manager.c:539</a></div></div>
<div class="ttc" id="class_inertial_sense_html_ac117c0a7e2053832a852086069d3783e"><div class="ttname"><a href="class_inertial_sense.html#ac117c0a7e2053832a852086069d3783e">InertialSense::OpenConnectionToServer</a></div><div class="ttdeci">bool OpenConnectionToServer(const string &amp;connectionString)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00317">InertialSense.cpp:317</a></div></div>
<div class="ttc" id="com__manager_8c_html_a9ffb3e89b6bb53a26e590903ac97b8e9"><div class="ttname"><a href="com__manager_8c.html#a9ffb3e89b6bb53a26e590903ac97b8e9">comManagerSend</a></div><div class="ttdeci">int comManagerSend(int pHandle, uint8_t pktInfo, bufPtr_t *bodyHdr, bufPtr_t *txData, uint8_t pFlags)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l00639">com_manager.c:639</a></div></div>
<div class="ttc" id="class_inertial_sense_html_ae3e7952b33b002b869712303a6725e94"><div class="ttname"><a href="class_inertial_sense.html#ae3e7952b33b002b869712303a6725e94">InertialSense::SetLoggerEnabled</a></div><div class="ttdeci">bool SetLoggerEnabled(bool enable, const string &amp;path=cISLogger::g_emptyString, cISLogger::eLogType logType=cISLogger::eLogType::LOGTYPE_DAT, uint64_t rmcPreset=RMC_PRESET_PPD_BITS, float maxDiskSpacePercent=0.5f, uint32_t maxFileSize=1024 *1024 *5, const string &amp;subFolder=cISLogger::g_emptyString)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00287">InertialSense.cpp:287</a></div></div>
<div class="ttc" id="protocol__nmea_8h_html"><div class="ttname"><a href="protocol__nmea_8h.html">protocol_nmea.h</a></div></div>
<div class="ttc" id="struct_inertial_sense_1_1com__manager__cpp__state__t_html"><div class="ttname"><a href="struct_inertial_sense_1_1com__manager__cpp__state__t.html">InertialSense::com_manager_cpp_state_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00079">InertialSense.h:79</a></div></div>
<div class="ttc" id="com__manager_8c_html_ae2cd08328452b51eb95fdfdaaac1f869"><div class="ttname"><a href="com__manager_8c.html#ae2cd08328452b51eb95fdfdaaac1f869">comManagerGetUserPointer</a></div><div class="ttdeci">void * comManagerGetUserPointer(CMHANDLE cmInstance)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l00482">com_manager.c:482</a></div></div>
<div class="ttc" id="com__manager_8c_html_a4f2c449501f06efa1689f82b88a1db64"><div class="ttname"><a href="com__manager_8c.html#a4f2c449501f06efa1689f82b88a1db64">comManagerSendData</a></div><div class="ttdeci">int comManagerSendData(int pHandle, uint32_t dataId, void *dataPtr, int dataSize, int dataOffset)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l00553">com_manager.c:553</a></div></div>
<div class="ttc" id="_i_s_utilities_8cpp_html_accf248be103fbab76b6bbdfae67b6d52"><div class="ttname"><a href="_i_s_utilities_8cpp.html#accf248be103fbab76b6bbdfae67b6d52">threadJoinAndFree</a></div><div class="ttdeci">void threadJoinAndFree(void *handle)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_utilities_8cpp_source.html#l00515">ISUtilities.cpp:515</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a352ebef762136664fea66ccefe50a837"><div class="ttname"><a href="class_inertial_sense.html#a352ebef762136664fea66ccefe50a837">InertialSense::OnPacketReceived</a></div><div class="ttdeci">bool OnPacketReceived(const uint8_t *data, uint32_t dataLength)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00788">InertialSense.cpp:788</a></div></div>
<div class="ttc" id="class_inertial_sense_html_af8c69dc2c40e39503fbb447847df0d5a"><div class="ttname"><a href="class_inertial_sense.html#af8c69dc2c40e39503fbb447847df0d5a">InertialSense::OnClientConnectFailed</a></div><div class="ttdeci">void OnClientConnectFailed(cISTcpServer *server) OVERRIDE</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00813">InertialSense.cpp:813</a></div></div>
<div class="ttc" id="serial_port_platform_8c_html_aeec6b758f4697c6c913d4b3955c0c8c4"><div class="ttname"><a href="serial_port_platform_8c.html#aeec6b758f4697c6c913d4b3955c0c8c4">serialPortPlatformInit</a></div><div class="ttdeci">int serialPortPlatformInit(serial_port_t *serialPort)</div><div class="ttdef"><b>Definition:</b> <a href="serial_port_platform_8c_source.html#l00710">serialPortPlatform.c:710</a></div></div>
<div class="ttc" id="structbootload__state__t_html_a5e52e343357b7b04ad3d82b0db74fb69"><div class="ttname"><a href="structbootload__state__t.html#a5e52e343357b7b04ad3d82b0db74fb69">bootload_state_t::param</a></div><div class="ttdeci">bootload_params_t param</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00020">InertialSense.cpp:20</a></div></div>
<div class="ttc" id="com__manager_8c_html_a2f5355ba3c4e3467fd3eba423904324b"><div class="ttname"><a href="com__manager_8c.html#a2f5355ba3c4e3467fd3eba423904324b">comManagerGetData</a></div><div class="ttdeci">void comManagerGetData(int pHandle, uint32_t dataId, int offset, int size, int periodMultiple)</div><div class="ttdoc">Request data This function requests the specified data w/ offset and length for partial reads.</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l00516">com_manager.c:516</a></div></div>
<div class="ttc" id="structp__data__t_html_a006c80696cc8ad6e3699d853da9c9c07"><div class="ttname"><a href="structp__data__t.html#a006c80696cc8ad6e3699d853da9c9c07">p_data_t::buf</a></div><div class="ttdeci">uint8_t buf[MAX_DATASET_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00395">ISComm.h:395</a></div></div>
<div class="ttc" id="com__manager_8c_html_af2aa81d370e11d22f2f05589000ef210"><div class="ttname"><a href="com__manager_8c.html#af2aa81d370e11d22f2f05589000ef210">comManagerInit</a></div><div class="ttdeci">int comManagerInit(int numHandles, int maxEnsuredPackets, int stepPeriodMilliseconds, int retryCount, pfnComManagerRead readFnc, pfnComManagerSend sendFnc, pfnComManagerSendBufferAvailableBytes txFreeFnc, pfnComManagerPostRead pstRxFnc, pfnComManagerPostAck pstAckFnc, pfnComManagerDisableBroadcasts disableBcastFnc, com_manager_init_t *buffers, com_manager_port_t *cmPorts)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l00079">com_manager.c:79</a></div></div>
<div class="ttc" id="class_inertial_sense_html_ade1eb02ed38bcb28759df421803b31e6"><div class="ttname"><a href="class_inertial_sense.html#ade1eb02ed38bcb28759df421803b31e6">InertialSense::OnClientDisconnected</a></div><div class="ttdeci">void OnClientDisconnected(cISTcpServer *server, socket_t socket) OVERRIDE</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00818">InertialSense.cpp:818</a></div></div>
<div class="ttc" id="serial_port_8c_html_a85707d7328266b2196d994598e0465fe"><div class="ttname"><a href="serial_port_8c.html#a85707d7328266b2196d994598e0465fe">serialPortOpen</a></div><div class="ttdeci">int serialPortOpen(serial_port_t *serialPort, const char *port, int baudRate, int blocking)</div><div class="ttdef"><b>Definition:</b> <a href="serial_port_8c_source.html#l00028">serialPort.c:28</a></div></div>
<div class="ttc" id="_i_s_comm_8h_html_ac6e603670e69c96b8f8d3ad9ef9d7920"><div class="ttname"><a href="_i_s_comm_8h.html#ac6e603670e69c96b8f8d3ad9ef9d7920">PID_STOP_BROADCASTS_ALL_PORTS</a></div><div class="ttdeci">#define PID_STOP_BROADCASTS_ALL_PORTS</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00189">ISComm.h:189</a></div></div>
<div class="ttc" id="struct_inertial_sense_1_1com__manager__cpp__state__t_html_aa85e37073723ccb11826aee743ce147f"><div class="ttname"><a href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#aa85e37073723ccb11826aee743ce147f">InertialSense::com_manager_cpp_state_t::clientBytesToSend</a></div><div class="ttdeci">int * clientBytesToSend</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00091">InertialSense.h:91</a></div></div>
<div class="ttc" id="structis__comm__instance__t_html"><div class="ttname"><a href="structis__comm__instance__t.html">is_comm_instance_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00486">ISComm.h:486</a></div></div>
<div class="ttc" id="struct_inertial_sense_1_1com__manager__cpp__state__t_html_af002ad4e41266ef3f5316acb7482d152"><div class="ttname"><a href="struct_inertial_sense_1_1com__manager__cpp__state__t.html#af002ad4e41266ef3f5316acb7482d152">InertialSense::com_manager_cpp_state_t::inertialSenseInterface</a></div><div class="ttdeci">InertialSense * inertialSenseInterface</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00088">InertialSense.h:88</a></div></div>
<div class="ttc" id="_i_s_comm_8h_html_a20242d8c94321ec78956a2eee64f94f3"><div class="ttname"><a href="_i_s_comm_8h.html#a20242d8c94321ec78956a2eee64f94f3">PID_STOP_BROADCASTS_CURRENT_PORT</a></div><div class="ttdeci">#define PID_STOP_BROADCASTS_CURRENT_PORT</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00191">ISComm.h:191</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a5cf3d33ec95365147fc1c0abe249effd"><div class="ttname"><a href="class_inertial_sense.html#a5cf3d33ec95365147fc1c0abe249effd">InertialSense::BootloadFile</a></div><div class="ttdeci">static vector&lt; bootload_result_t &gt; BootloadFile(const string &amp;comPort, const string &amp;fileName, int baudRate=IS_BAUD_RATE_BOOTLOADER, pfnBootloadProgress uploadProgress=NULLPTR, pfnBootloadProgress verifyProgress=NULLPTR, pfnBootloadStatus infoProgress=NULLPTR, const string &amp;bootloaderFileName=&quot;&quot;, bool forceBootloaderUpdate=false)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00711">InertialSense.cpp:711</a></div></div>
<div class="ttc" id="structcom__manager__init__t_html_a08bc6ef8b7066afeea78213cb2cd18d4"><div class="ttname"><a href="structcom__manager__init__t.html#a08bc6ef8b7066afeea78213cb2cd18d4">com_manager_init_t::ensuredPacketsSize</a></div><div class="ttdeci">uint32_t ensuredPacketsSize</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00106">com_manager.h:106</a></div></div>
<div class="ttc" id="_inertial_sense_8h_html_a728862e429ee3497de0252d42807dd31"><div class="ttname"><a href="_inertial_sense_8h.html#a728862e429ee3497de0252d42807dd31">pfnHandleBinaryData</a></div><div class="ttdeci">std::function&lt; void(InertialSense *i, p_data_t *data, int pHandle)&gt; pfnHandleBinaryData</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00056">InertialSense.h:56</a></div></div>
<div class="ttc" id="com__manager_8c_html_a4336f36a840ad97152a693893866ca2e"><div class="ttname"><a href="com__manager_8c.html#a4336f36a840ad97152a693893866ca2e">comManagerGetGlobal</a></div><div class="ttdeci">CMHANDLE comManagerGetGlobal(void)</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8c_source.html#l00076">com_manager.c:76</a></div></div>
<div class="ttc" id="classc_i_s_logger_html_a910489e1f68a55e047c77373c8735a7a"><div class="ttname"><a href="classc_i_s_logger.html#a910489e1f68a55e047c77373c8735a7a">cISLogger::CloseAllFiles</a></div><div class="ttdeci">void CloseAllFiles()</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_logger_8cpp_source.html#l00456">ISLogger.cpp:456</a></div></div>
<div class="ttc" id="structbootload__state__t_html_a951b3311967061368815ffe6dd1d81d5"><div class="ttname"><a href="structbootload__state__t.html#a951b3311967061368815ffe6dd1d81d5">bootload_state_t::thread</a></div><div class="ttdeci">void * thread</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00023">InertialSense.cpp:23</a></div></div>
<div class="ttc" id="struct_p_a_c_k_e_d_html"><div class="ttname"><a href="struct_p_a_c_k_e_d.html">PACKED</a></div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l00427">data_sets.h:427</a></div></div>
<div class="ttc" id="_i_s_comm_8c_html_a544887091650ae61ee2d66b26eb45178"><div class="ttname"><a href="_i_s_comm_8c.html#a544887091650ae61ee2d66b26eb45178">is_comm_parse</a></div><div class="ttdeci">protocol_type_t is_comm_parse(is_comm_instance_t *instance)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8c_source.html#l00551">ISComm.c:551</a></div></div>
<div class="ttc" id="_i_s_constants_8h_html_a7a7cae471ca91e09f2432b2c13a8bb45"><div class="ttname"><a href="_i_s_constants_8h.html#a7a7cae471ca91e09f2432b2c13a8bb45">_MAX</a></div><div class="ttdeci">#define _MAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_constants_8h_source.html#l00297">ISConstants.h:297</a></div></div>
<div class="ttc" id="structis__comm__instance__t_html_aa41f8ba97357c75e2238577d03c0b93a"><div class="ttname"><a href="structis__comm__instance__t.html#aa41f8ba97357c75e2238577d03c0b93a">is_comm_instance_t::dataPtr</a></div><div class="ttdeci">uint8_t * dataPtr</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_comm_8h_source.html#l00513">ISComm.h:513</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
